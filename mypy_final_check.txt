src/adapters/gam/utils/__init__.py:45: note: In module imported here:
src/adapters/gam/utils/formatters.py: note: In function "format_targeting_for_display":
src/adapters/gam/utils/formatters.py:107:49: error: Incompatible types in assignment (expression has type "int", target has type "list[Any]")  [assignment]
src/adapters/gam/utils/formatters.py:113:49: error: Incompatible types in assignment (expression has type "int", target has type "list[Any]")  [assignment]
src/adapters/gam/utils/formatters.py:148:33: error: Incompatible types in assignment (expression has type "dict[str, str]", target has type "dict[str, list[Any]]")  [assignment]
src/adapters/gam/utils/formatters.py:161:35: error: Incompatible types in assignment (expression has type "list[str]", target has type "dict[str, list[Any]]")  [assignment]
src/adapters/gam/managers/__init__.py:21: note: In module imported here,
src/adapters/google_ad_manager.py:25: note: ... from here,
src/core/helpers/adapter_helpers.py:5: note: ... from here:
src/adapters/gam/managers/targeting.py: note: In member "validate_targeting" of class "GAMTargetingManager":
src/adapters/gam/managers/targeting.py:88:9: error: Need type annotation for "unsupported" (hint: "unsupported: list[<type>] = ...")  [var-annotated]
src/adapters/gam/managers/targeting.py: note: In member "build_targeting" of class "GAMTargetingManager":
src/adapters/gam/managers/targeting.py:137:9: error: Need type annotation for "geo_targeting" (hint: "geo_targeting: dict[<type>, <type>] = ...")  [var-annotated]
src/adapters/gam/managers/targeting.py:321:60: error: Incompatible types in assignment (expression has type "str", target has type "dict[Any, Any]")  [assignment]
src/adapters/gam_inventory_discovery.py:26: note: In module imported here,
src/admin/blueprints/gam.py:13: note: ... from here:
src/adapters/gam/utils/error_handler.py: note: In function "with_retry":
src/adapters/gam/utils/error_handler.py:282:13: error: Exception must be derived from BaseException  [misc]
src/adapters/google_ad_manager.py:161: note: In module imported here,
src/core/helpers/adapter_helpers.py:5: note: ... from here:
src/adapters/gam/utils/validation.py: note: In member "validate_media_data" of class "GAMValidator":
src/adapters/gam/utils/validation.py:111:9: error: Need type annotation for "issues" (hint: "issues: list[<type>] = ...")  [var-annotated]
src/adapters/gam/utils/validation.py: note: In member "_validate_file_extension" of class "GAMValidator":
src/adapters/gam/utils/validation.py:301:9: error: Need type annotation for "issues" (hint: "issues: list[<type>] = ...")  [var-annotated]
src/adapters/gam/utils/validation.py: note: In member "_get_creative_type_from_asset" of class "GAMValidator":
src/adapters/gam/utils/validation.py:346:21: error: Item "None" of "Any | None" has no attribute "lower"  [union-attr]
src/adapters/gam/utils/validation.py:351:22: error: Item "None" of "Any | None" has no attribute "lower"  [union-attr]
src/services/activity_feed.py: note: In member "__init__" of class "ActivityFeed":
src/services/activity_feed.py:19:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/services/activity_feed.py:21:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/core/database/database_session.py: note: In member "__init__" of class "DatabaseManager":
src/core/database/database_session.py:175:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/adapters/gam/client.py:14: note: In module imported here,
src/services/format_metrics_service.py:268: note: ... from here:
src/adapters/gam/utils/health_check.py: note: In class "HealthCheckResult":
src/adapters/gam/utils/health_check.py:43:27: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
src/adapters/gam/utils/health_check.py: note: In member "__init__" of class "GAMHealthChecker":
src/adapters/gam/utils/health_check.py:69:9: error: Need type annotation for "last_results" (hint: "last_results: list[<type>] = ...")  [var-annotated]
src/adapters/gam/utils/health_check.py: note: In member "check_authentication" of class "GAMHealthChecker":
src/adapters/gam/utils/health_check.py:115:31: error: "None" has no attribute "GetService"  [attr-defined]
src/adapters/gam/utils/health_check.py: note: In member "check_permissions" of class "GAMHealthChecker":
src/adapters/gam/utils/health_check.py:153:31: error: "None" has no attribute "GetService"  [attr-defined]
src/adapters/gam/utils/health_check.py:170:28: error: "None" has no attribute "GetService"  [attr-defined]
src/adapters/gam/utils/health_check.py: note: In member "check_inventory_access" of class "GAMHealthChecker":
src/adapters/gam/utils/health_check.py:276:33: error: "None" has no attribute "GetService"  [attr-defined]
src/adapters/gam/utils/health_check.py: note: In member "check_service_availability" of class "GAMHealthChecker":
src/adapters/gam/utils/health_check.py:360:21: error: "None" has no attribute "GetService"  [attr-defined]
src/adapters/gam/utils/health_check.py: note: In member "run_all_checks" of class "GAMHealthChecker":
src/adapters/gam/utils/health_check.py:433:32: error: Incompatible types in assignment (expression has type "datetime", variable has type "None")  [assignment]
src/services/gam_orders_service.py:18: note: In module imported here:
src/adapters/gam_orders_discovery.py: note: In member "from_gam_object" of class "LineItem":
src/adapters/gam_orders_discovery.py:410:41: error: Incompatible types in assignment (expression has type "None", variable has type "list[Any]")  [assignment]
src/adapters/gam_orders_discovery.py:427:34: error: Incompatible types in assignment (expression has type "None", variable has type "list[Any]")  [assignment]
src/adapters/gam_orders_discovery.py: note: In member "sync_all" of class "GAMOrdersDiscovery":
src/adapters/gam_orders_discovery.py:636:9: error: Need type annotation for "line_items_by_order" (hint: "line_items_by_order: dict[<type>, <type>] = ...")  [var-annotated]
src/adapters/gam_orders_discovery.py:658:30: error: Value of type "object" is not indexable  [index]
src/adapters/gam_orders_discovery.py:659:17: error: Value of type "object" is not indexable  [index]
src/adapters/gam_orders_discovery.py:660:13: error: Value of type "object" is not indexable  [index]
src/adapters/gam_orders_discovery.py:665:30: error: Value of type "object" is not indexable  [index]
src/adapters/gam_orders_discovery.py:666:17: error: Value of type "object" is not indexable  [index]
src/adapters/gam_orders_discovery.py:667:13: error: Value of type "object" is not indexable  [index]
src/adapters/gam_orders_discovery.py:670:31: error: Value of type "object" is not indexable  [index]
src/adapters/gam_orders_discovery.py:671:17: error: Value of type "object" is not indexable  [index]
src/adapters/gam_orders_discovery.py:672:13: error: Value of type "object" is not indexable  [index]
src/admin/blueprints/gam.py:13: note: In module imported here:
src/adapters/gam_inventory_discovery.py: note: In function "build_ad_unit_tree":
src/adapters/gam_inventory_discovery.py:635:21: error: Item "bool" of "bool | list[dict[str, int]] | str" has no attribute "append"  [union-attr]
src/adapters/gam_inventory_discovery.py:635:21: error: Item "str" of "bool | list[dict[str, int]] | str" has no attribute "append"  [union-attr]
src/adapters/gam_inventory_discovery.py: note: In member "suggest_ad_units_for_product" of class "GAMInventoryDiscovery":
src/adapters/gam_inventory_discovery.py:757:30: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[str, object]], object]"; expected "Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
src/adapters/gam_inventory_discovery.py: note: In function "suggest_ad_units_for_product":
src/adapters/gam_inventory_discovery.py:757:40: error: Incompatible return value type (got "object", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
src/adapters/gam_inventory_discovery.py: note: In member "sync_selective" of class "GAMInventoryDiscovery":
src/adapters/gam_inventory_discovery.py:870:35: error: Incompatible types in assignment (expression has type "dict[str, int]", target has type "Sequence[str]")  [assignment]
src/adapters/gam_inventory_discovery.py:880:37: error: Incompatible types in assignment (expression has type "dict[str, int]", target has type "Sequence[str]")  [assignment]
src/adapters/gam_inventory_discovery.py:889:33: error: Incompatible types in assignment (expression has type "dict[str, int]", target has type "Sequence[str]")  [assignment]
src/adapters/gam_inventory_discovery.py:896:43: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "Sequence[str]")  [assignment]
src/adapters/gam_inventory_discovery.py:903:17: error: Unsupported target for indexed assignment ("Sequence[str]")  [index]
src/adapters/gam_inventory_discovery.py:909:44: error: Incompatible types in assignment (expression has type "dict[str, int]", target has type "Sequence[str]")  [assignment]
src/adapters/gam_inventory_discovery.py:915:17: error: Unsupported target for indexed assignment ("Sequence[str]")  [index]
src/adapters/gam_inventory_discovery.py:918:39: error: Incompatible types in assignment (expression has type "float", target has type "Sequence[str]")  [assignment]
src/adapters/mock_ad_server.py:355: note: In module imported here:
src/adapters/ai_test_orchestrator.py: note: In class "TestScenario":
src/adapters/ai_test_orchestrator.py:35:36: error: Incompatible types in assignment (expression has type "None", variable has type "list[dict[Any, Any]]")  [assignment]
src/services/format_metrics_service.py:268: note: In module imported here:
src/adapters/gam/client.py: note: In member "from_existing_client" of class "GAMClientManager":
src/adapters/gam/client.py:201:32: error: Incompatible types in assignment (expression has type "None", variable has type "GAMAuthManager")  [assignment]
src/core/schema_validation.py: note: In class "SchemaMetadata":
src/core/schema_validation.py:18:23: error: Incompatible types in assignment (expression has type "None", variable has type "str")  [assignment]
src/core/schema_validation.py:21:26: error: Incompatible types in assignment (expression has type "None", variable has type "str")  [assignment]
src/core/schema_validation.py: note: In class "ResponseWithSchema":
src/core/schema_validation.py:28:20: error: Extra key "exclude" for TypedDict "ConfigDict"  [typeddict-unknown-key]
src/core/schema_validation.py:36:31: error: Incompatible types in assignment (expression has type "None", variable has type "SchemaMetadata")  [assignment]
src/core/schema_validation.py: note: In function "create_schema_registry":
src/core/schema_validation.py:216:57: error: Argument 1 to "get_model_schema" has incompatible type "ModelMetaclass"; expected "type[BaseModel]"  [arg-type]
src/core/helpers/creative_helpers.py: note: In function "_convert_creative_to_adapter_asset":
src/core/helpers/creative_helpers.py:135:39: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "Sequence[str]")  [assignment]
src/core/helpers/creative_helpers.py:152:26: error: Incompatible types in assignment (expression has type "int", target has type "Sequence[str]")  [assignment]
src/core/helpers/creative_helpers.py:154:27: error: Incompatible types in assignment (expression has type "int", target has type "Sequence[str]")  [assignment]
src/core/helpers/creative_helpers.py:156:29: error: Incompatible types in assignment (expression has type "float", target has type "Sequence[str]")  [assignment]
src/core/helpers/creative_helpers.py:161:38: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "Sequence[str]")  [assignment]
src/adapters/gam/managers/__init__.py:17: note: In module imported here,
src/adapters/google_ad_manager.py:25: note: ... from here,
src/core/helpers/adapter_helpers.py:5: note: ... from here:
src/adapters/gam/managers/inventory.py: note: In member "_get_discovery" of class "GAMInventoryManager":
src/adapters/gam/managers/inventory.py:56:35: error: Incompatible types in assignment (expression has type "MockGAMInventoryDiscovery", variable has type "None")  [assignment]
src/adapters/gam/managers/inventory.py:59:35: error: Incompatible types in assignment (expression has type "GAMInventoryDiscovery", variable has type "None")  [assignment]
src/adapters/gam/managers/inventory.py:60:16: error: Incompatible return value type (got "None", expected "GAMInventoryDiscovery")  [return-value]
src/adapters/gam/managers/inventory.py: note: In member "__init__" of class "MockGAMInventoryDiscovery":
src/adapters/gam/managers/inventory.py:340:9: error: Need type annotation for "ad_units" (hint: "ad_units: dict[<type>, <type>] = ...")  [var-annotated]
src/adapters/gam/managers/inventory.py:341:9: error: Need type annotation for "placements" (hint: "placements: dict[<type>, <type>] = ...")  [var-annotated]
src/adapters/gam/managers/inventory.py:342:9: error: Need type annotation for "labels" (hint: "labels: dict[<type>, <type>] = ...")  [var-annotated]
src/adapters/gam/managers/inventory.py:343:9: error: Need type annotation for "custom_targeting_keys" (hint: "custom_targeting_keys: dict[<type>, <type>] = ...")  [var-annotated]
src/adapters/gam/managers/inventory.py:344:9: error: Need type annotation for "custom_targeting_values" (hint: "custom_targeting_values: dict[<type>, <type>] = ...")  [var-annotated]
src/adapters/gam/managers/inventory.py:345:9: error: Need type annotation for "audience_segments" (hint: "audience_segments: dict[<type>, <type>] = ...")  [var-annotated]
src/core/main.py:13: note: In module imported here:
src/adapters/mock_creative_engine.py: note: In member "process_creatives" of class "MockCreativeEngine":
src/adapters/mock_creative_engine.py:88:28: error: Argument "status" to "CreativeStatus" has incompatible type "str"; expected "Literal['pending_review', 'approved', 'rejected', 'adaptation_required']"  [arg-type]
src/adapters/gam_reporting_api.py:18: note: In module imported here,
src/admin/app.py:319: note: ... from here:
scripts/ops/gam_helper.py: note: In function "get_gam_network_info":
scripts/ops/gam_helper.py:141:27: error: Item "None" of "Any | None" has no attribute "GetService"  [union-attr]
scripts/ops/gam_helper.py: note: In function "get_gam_config_for_tenant":
scripts/ops/gam_helper.py:217:27: error: "AdapterConfig" has no attribute "gam_company_id"  [attr-defined]
src/services/webhook_delivery_service.py: note: In member "__init__" of class "WebhookDeliveryService":
src/services/webhook_delivery_service.py:187:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/services/webhook_delivery_service.py:189:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/services/webhook_delivery_service.py:190:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/services/webhook_delivery_service.py: note: In member "send_delivery_webhook" of class "WebhookDeliveryService":
src/services/webhook_delivery_service.py:284:22: error: Value of type "object" is not indexable  [index]
src/services/setup_checklist_service.py: note: In member "_check_critical_tasks" of class "SetupChecklistService":
src/services/setup_checklist_service.py:114:30: error: "Tenant" has no attribute "gam_config"  [attr-defined]
src/services/push_notification_service.py: note: In member "send_workflow_step_notification" of class "PushNotificationService":
src/services/push_notification_service.py:286:20: error: Incompatible types in assignment (expression has type "Select[tuple[ObjectWorkflowMapping]]", variable has type "Select[tuple[WorkflowStep]]")  [assignment]
src/services/push_notification_service.py:294:89: error: "WorkflowStep" has no attribute "object_id"  [attr-defined]
src/services/push_notification_service.py:296:28: error: "WorkflowStep" has no attribute "object_id"  [attr-defined]
src/services/property_verification_service.py: note: In member "_update_verification_status" of class "PropertyVerificationService":
src/services/property_verification_service.py:309:48: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/property_verification_service.py:311:35: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime] | DateTime")  [assignment]
src/services/property_verification_service.py: note: In member "verify_all_properties" of class "PropertyVerificationService":
src/services/property_verification_service.py:341:29: error: Unsupported operand types for + ("object" and "int")  [operator]
src/services/property_verification_service.py:343:29: error: Unsupported operand types for + ("object" and "int")  [operator]
src/services/property_verification_service.py:345:33: error: "object" has no attribute "append"  [attr-defined]
src/services/property_verification_service.py:348:25: error: Unsupported operand types for + ("object" and "int")  [operator]
src/services/property_verification_service.py:349:25: error: "object" has no attribute "append"  [attr-defined]
src/services/property_verification_service.py:354:13: error: "object" has no attribute "append"  [attr-defined]
src/services/gcp_service_account_service.py: note: In member "test_connection" of class "GCPServiceAccountService":
src/services/gcp_service_account_service.py:367:13: error: "object" has no attribute "append"  [attr-defined]
src/services/gam_orders_service.py: note: In member "_upsert_order" of class "GAMOrdersService":
src/services/gam_orders_service.py:94:35: error: Incompatible types in assignment (expression has type "datetime | None", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/gam_orders_service.py:95:33: error: Incompatible types in assignment (expression has type "datetime | None", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/gam_orders_service.py:102:43: error: Incompatible types in assignment (expression has type "datetime | None", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/gam_orders_service.py:108:36: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime] | DateTime")  [assignment]
src/services/gam_orders_service.py: note: In member "_upsert_line_item" of class "GAMOrdersService":
src/services/gam_orders_service.py:154:35: error: Incompatible types in assignment (expression has type "datetime | None", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/gam_orders_service.py:155:33: error: Incompatible types in assignment (expression has type "datetime | None", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/gam_orders_service.py:195:43: error: Incompatible types in assignment (expression has type "datetime | None", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/gam_orders_service.py:196:38: error: Incompatible types in assignment (expression has type "datetime | None", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/gam_orders_service.py:198:36: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime] | DateTime")  [assignment]
src/services/gam_orders_service.py: note: In member "get_order_details" of class "GAMOrdersService":
src/services/gam_orders_service.py:357:16: error: Incompatible types in assignment (expression has type "Select[tuple[GAMLineItem]]", variable has type "Select[tuple[GAMOrder]]")  [assignment]
src/services/gam_orders_service.py:361:57: error: Argument 1 to "_line_item_to_dict" of "GAMOrdersService" has incompatible type "GAMOrder"; expected "GAMLineItem"  [arg-type]
src/services/gam_orders_service.py:367:38: error: "GAMOrder" has no attribute "stats_impressions"  [attr-defined]
src/services/gam_orders_service.py:367:38: error: Generator has incompatible item type "Any | int"; expected "bool"  [misc]
src/services/gam_orders_service.py:368:33: error: "GAMOrder" has no attribute "stats_clicks"  [attr-defined]
src/services/gam_orders_service.py:368:33: error: Generator has incompatible item type "Any | int"; expected "bool"  [misc]
src/services/gam_orders_service.py:370:17: error: Generator has incompatible item type "Any | float"; expected "bool"  [misc]
src/services/gam_orders_service.py:370:18: error: "GAMOrder" has no attribute "cost_per_unit"  [attr-defined]
src/services/gam_orders_service.py:370:44: error: "GAMOrder" has no attribute "stats_impressions"  [attr-defined]
src/services/gam_orders_service.py:372:20: error: "GAMOrder" has no attribute "cost_type"  [attr-defined]
src/services/gam_orders_service.py: note: In member "_order_to_dict" of class "GAMOrdersService":
src/services/gam_orders_service.py:404:27: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/services/gam_orders_service.py:405:25: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/services/gam_orders_service.py:412:35: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/services/gam_orders_service.py:416:28: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/services/gam_orders_service.py: note: In member "_calculate_delivery_status" of class "GAMOrdersService":
src/services/gam_orders_service.py:473:28: error: Unsupported operand types for >= ("datetime" and "DateTime")  [operator]
src/services/gam_orders_service.py:473:28: note: Left operand is of type "datetime | DateTime"
src/services/gam_orders_service.py:473:28: error: Unsupported operand types for <= ("datetime" and "DateTime")  [operator]
src/services/gam_orders_service.py:473:28: note: Right operand is of type "datetime | DateTime"
src/services/gam_orders_service.py:475:30: error: Unsupported operand types for < ("datetime" and "DateTime")  [operator]
src/services/gam_orders_service.py:475:30: note: Right operand is of type "datetime | DateTime"
src/services/gam_orders_service.py:477:30: error: Unsupported operand types for > ("datetime" and "DateTime")  [operator]
src/services/gam_orders_service.py:477:30: note: Right operand is of type "datetime | DateTime"
src/services/gam_orders_service.py: note: In member "_calculate_delivery_metrics" of class "GAMOrdersService":
src/services/gam_orders_service.py:545:24: error: Unsupported operand types for >= ("date" and "DateTime")  [operator]
src/services/gam_orders_service.py:545:24: note: Left operand is of type "date | DateTime"
src/services/gam_orders_service.py:546:41: error: Value of type variable "SupportsRichComparisonT" of "min" cannot be "date | DateTime"  [type-var]
src/services/gam_orders_service.py:546:41: error: No overload variant of "__sub__" of "date" matches argument type "DateTime"  [operator]
src/services/gam_orders_service.py:546:41: note: Possible overload variants:
src/services/gam_orders_service.py:546:41: note:     def __sub__(self, datetime, /) -> Never
src/services/gam_orders_service.py:546:41: note:     def __sub__(self, date, /) -> timedelta
src/services/gam_orders_service.py:546:41: note:     def __sub__(self, timedelta, /) -> date
src/services/gam_orders_service.py:546:41: error: Unsupported left operand type for - ("DateTime")  [operator]
src/services/gam_orders_service.py:546:41: note: Both left and right operands are unions
src/services/gam_orders_service.py: note: In member "_line_item_to_dict" of class "GAMOrdersService":
src/services/gam_orders_service.py:583:27: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/services/gam_orders_service.py:584:25: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/services/gam_orders_service.py:601:35: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/services/gam_orders_service.py:602:30: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/services/gam_orders_service.py:603:28: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/services/format_metrics_service.py: note: In member "_process_and_store_metrics" of class "FormatMetricsAggregationService":
src/services/format_metrics_service.py:166:17: error: "object" has no attribute "append"  [attr-defined]
src/services/format_metrics_service.py:178:18: error: Unsupported operand types for / ("object" and "int")  [operator]
src/services/format_metrics_service.py:178:53: error: Unsupported operand types for / ("float" and "object")  [operator]
src/services/format_metrics_service.py:178:82: error: Unsupported operand types for < ("int" and "object")  [operator]
src/services/format_metrics_service.py:182:30: error: No overload variant of "sorted" matches argument type "object"  [call-overload]
src/services/format_metrics_service.py:182:30: note: Possible overload variants:
src/services/format_metrics_service.py:182:30: note:     def [SupportsRichComparisonT: SupportsDunderLT[Any] | SupportsDunderGT[Any]] sorted(Iterable[SupportsRichComparisonT], /, *, key: None = ..., reverse: bool = ...) -> list[SupportsRichComparisonT]
src/services/format_metrics_service.py:182:30: note:     def [_T] sorted(Iterable[_T], /, *, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]], reverse: bool = ...) -> list[_T]
src/services/format_metrics_service.py:201:46: error: Incompatible types in assignment (expression has type "object", variable has type "SQLCoreOperations[int] | int")  [assignment]
src/services/format_metrics_service.py:202:41: error: Incompatible types in assignment (expression has type "object", variable has type "SQLCoreOperations[int] | int")  [assignment]
src/services/format_metrics_service.py:203:49: error: No overload variant of "int" matches argument type "object"  [call-overload]
src/services/format_metrics_service.py:203:49: note: Possible overload variants:
src/services/format_metrics_service.py:203:49: note:     def int(str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc = ..., /) -> int
src/services/format_metrics_service.py:203:49: note:     def int(str | bytes | bytearray, /, base: SupportsIndex) -> int
src/services/format_metrics_service.py:204:40: error: Incompatible types in assignment (expression has type "float | None", variable has type "SQLCoreOperations[Decimal | None] | Decimal | None")  [assignment]
src/services/format_metrics_service.py:205:39: error: Incompatible types in assignment (expression has type "float | None", variable has type "SQLCoreOperations[Decimal | None] | Decimal | None")  [assignment]
src/services/format_metrics_service.py:206:36: error: Incompatible types in assignment (expression has type "float | None", variable has type "SQLCoreOperations[Decimal | None] | Decimal | None")  [assignment]
src/services/format_metrics_service.py:207:36: error: Incompatible types in assignment (expression has type "float | None", variable has type "SQLCoreOperations[Decimal | None] | Decimal | None")  [assignment]
src/services/format_metrics_service.py:209:41: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime] | DateTime")  [assignment]
src/services/format_metrics_service.py:221:42: error: No overload variant of "int" matches argument type "object"  [call-overload]
src/services/format_metrics_service.py:221:42: note: Possible overload variants:
src/services/format_metrics_service.py:221:42: note:     def int(str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc = ..., /) -> int
src/services/format_metrics_service.py:221:42: note:     def int(str | bytes | bytearray, /, base: SupportsIndex) -> int
src/services/format_metrics_service.py: note: In function "aggregate_all_tenants":
src/services/format_metrics_service.py:295:32: error: Unexpected keyword argument "network_code" for "GAMAuthManager"  [call-arg]
src/adapters/gam/auth.py: note: "GAMAuthManager" defined here
src/services/format_metrics_service.py:295:32: error: Unexpected keyword argument "refresh_token" for "GAMAuthManager"  [call-arg]
src/services/format_metrics_service.py:299:34: error: Missing positional argument "network_code" in call to "GAMClientManager"  [call-arg]
src/services/format_metrics_service.py:299:51: error: Argument 1 to "GAMClientManager" has incompatible type "GAMAuthManager"; expected "dict[str, Any]"  [arg-type]
src/services/format_metrics_service.py:306:17: error: Unsupported operand types for + ("object" and "int")  [operator]
src/services/format_metrics_service.py:307:17: error: "object" has no attribute "append"  [attr-defined]
src/services/format_metrics_service.py:321:17: error: Unsupported operand types for + ("object" and "int")  [operator]
src/services/format_metrics_service.py:322:17: error: "object" has no attribute "append"  [attr-defined]
src/services/dynamic_pricing_service.py: note: In member "_calculate_product_pricing" of class "DynamicPricingService":
src/services/dynamic_pricing_service.py:156:24: error: Unsupported left operand type for - ("Date")  [operator]
src/admin/services/media_buy_readiness_service.py: note: In member "get_readiness_state" of class "MediaBuyReadinessService":
src/admin/services/media_buy_readiness_service.py:69:24: error: Missing keys ("gam_order_status", "gam_line_items_total", "gam_line_items_ready") for TypedDict "ReadinessDetails"  [typeddict-item]
src/admin/services/media_buy_readiness_service.py:84:24: error: Missing keys ("gam_order_status", "gam_line_items_total", "gam_line_items_ready") for TypedDict "ReadinessDetails"  [typeddict-item]
src/admin/services/media_buy_readiness_service.py:153:20: error: Incompatible types in assignment (expression has type "Select[tuple[Tenant]]", variable has type "Select[tuple[MediaBuy]]")  [assignment]
src/admin/services/media_buy_readiness_service.py:155:27: error: "MediaBuy" has no attribute "ad_server"  [attr-defined]
src/admin/services/media_buy_readiness_service.py:157:24: error: Incompatible types in assignment (expression has type "Select[tuple[GAMOrder]]", variable has type "Select[tuple[MediaBuy]]")  [assignment]
src/admin/services/media_buy_readiness_service.py:169:28: error: Incompatible types in assignment (expression has type "Select[tuple[GAMLineItem]]", variable has type "Select[tuple[MediaBuy]]")  [assignment]
src/admin/services/media_buy_readiness_service.py: note: In member "_compute_state" of class "MediaBuyReadinessService":
src/admin/services/media_buy_readiness_service.py:262:41: error: "DateTime" has no attribute "tzinfo"  [attr-defined]
src/admin/services/media_buy_readiness_service.py:262:74: error: "DateTime" has no attribute "replace"  [attr-defined]
src/admin/services/media_buy_readiness_service.py:265:43: error: Argument 1 to "combine" of "datetime" has incompatible type "Date"; expected "date"  [arg-type]
src/admin/services/media_buy_readiness_service.py:268:46: error: "DateTime" has no attribute "tzinfo"  [attr-defined]
src/admin/services/media_buy_readiness_service.py:268:77: error: "DateTime" has no attribute "replace"  [attr-defined]
src/admin/services/media_buy_readiness_service.py:270:41: error: Argument 1 to "combine" of "datetime" has incompatible type "Date"; expected "date"  [arg-type]
src/admin/services/media_buy_readiness_service.py:273:12: error: Unsupported operand types for > ("datetime" and "DateTime")  [operator]
src/admin/services/media_buy_readiness_service.py:273:12: note: Right operand is of type "DateTime | Any"
src/admin/services/media_buy_readiness_service.py:280:12: error: Unsupported operand types for >= ("datetime" and "DateTime")  [operator]
src/admin/services/media_buy_readiness_service.py:280:12: note: Right operand is of type "DateTime | Any"
src/admin/services/media_buy_readiness_service.py:280:34: error: Unsupported operand types for <= ("datetime" and "DateTime")  [operator]
src/admin/services/media_buy_readiness_service.py:284:12: error: Unsupported operand types for < ("datetime" and "DateTime")  [operator]
src/admin/services/media_buy_readiness_service.py:284:12: note: Right operand is of type "DateTime | Any"
src/admin/services/business_activity_service.py: note: In function "get_business_activities":
src/admin/services/business_activity_service.py:119:37: error: Value of type "object" is not indexable  [index]
src/adapters/gam/managers/__init__.py:22: note: In module imported here,
src/adapters/google_ad_manager.py:25: note: ... from here,
src/core/helpers/adapter_helpers.py:5: note: ... from here:
src/adapters/gam/managers/workflow.py: note: In member "create_manual_order_workflow_step" of class "GAMWorkflowManager":
src/adapters/gam/managers/workflow.py:210:27: error: Incompatible types in assignment (expression has type "Context", variable has type "dict[Any, Any]")  [assignment]
product_catalog_providers/factory.py:7: note: In module imported here,
src/core/tools/products.py:18: note: ... from here:
product_catalog_providers/database.py: note: In member "get_products" of class "DatabaseProductCatalog":
product_catalog_providers/database.py:160:53: error: Incompatible types in assignment (expression has type "float", target has type "bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None")  [assignment]
product_catalog_providers/database.py:160:59: error: Argument 1 to "float" has incompatible type "bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
product_catalog_providers/database.py:171:47: error: Incompatible types in assignment (expression has type "float", target has type "bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None")  [assignment]
product_catalog_providers/database.py:171:53: error: Argument 1 to "float" has incompatible type "bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "str"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "list[FormatId | FormatReference] | list[str]"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "Literal['guaranteed', 'non_guaranteed']"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "list[PricingOption]"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "float | None"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "Measurement | None"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "CreativePolicy | None"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "bool"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "str | None"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "datetime | None"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "dict[str, Any] | None"  [arg-type]
product_catalog_providers/database.py:182:51: note: "dict" is invariant -- see https://mypy.readthedocs.io/en/stable/common_issues.html#variance
product_catalog_providers/database.py:182:51: note: Consider using "Mapping" instead, which is covariant in the value type
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "list[Property] | None"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "list[str] | None"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "int | None"  [arg-type]
product_catalog_providers/factory.py:5: note: In module imported here,
src/core/tools/products.py:18: note: ... from here:
product_catalog_providers/ai.py: note: In member "_get_all_products" of class "AIProductCatalog":
product_catalog_providers/ai.py:106:40: error: "Product" has no attribute "min_spend"  [attr-defined]
product_catalog_providers/ai.py: note: In member "_analyze_products_with_ai" of class "AIProductCatalog":
product_catalog_providers/ai.py:154:35: error: "Product" has no attribute "is_fixed_price"  [attr-defined]
product_catalog_providers/ai.py:155:24: error: "Product" has no attribute "cpm"  [attr-defined]
product_catalog_providers/ai.py:156:30: error: "Product" has no attribute "min_spend"  [attr-defined]
product_catalog_providers/ai.py:241:37: error: "Product" has no attribute "ai_reasoning"  [attr-defined]
product_catalog_providers/ai.py:242:37: error: "Product" has no attribute "ai_score"  [attr-defined]
src/admin/app.py:319: note: In module imported here:
src/adapters/gam_reporting_api.py: note: In function "get_gam_reporting":
src/adapters/gam_reporting_api.py:182:24: error: Argument "date_range" to "get_reporting_data" of "GAMReportingService" has incompatible type "str"; expected "Literal['lifetime', 'this_month', 'today']"  [arg-type]
src/adapters/gam_reporting_api.py: note: In function "get_advertiser_summary":
src/adapters/gam_reporting_api.py:263:53: error: Argument "date_range" to "get_advertiser_summary" of "GAMReportingService" has incompatible type "str"; expected "Literal['lifetime', 'this_month', 'today']"  [arg-type]
src/adapters/gam_reporting_api.py: note: In function "get_principal_reporting":
src/adapters/gam_reporting_api.py:341:20: error: Incompatible types in assignment (expression has type "Select[tuple[AdapterConfig]]", variable has type "Select[tuple[Principal]]")  [assignment]
src/adapters/gam_reporting_api.py:357:24: error: Argument "date_range" to "get_reporting_data" of "GAMReportingService" has incompatible type "str"; expected "Literal['lifetime', 'this_month', 'today']"  [arg-type]
src/adapters/gam_reporting_api.py: note: In function "get_country_breakdown":
src/adapters/gam_reporting_api.py:458:24: error: Argument "date_range" to "get_country_breakdown" of "GAMReportingService" has incompatible type "str"; expected "Literal['lifetime', 'this_month', 'today']"  [arg-type]
src/adapters/gam_reporting_api.py: note: In function "get_ad_unit_breakdown":
src/adapters/gam_reporting_api.py:545:24: error: Argument "date_range" to "get_ad_unit_breakdown" of "GAMReportingService" has incompatible type "str"; expected "Literal['lifetime', 'this_month', 'today']"  [arg-type]
src/adapters/gam_reporting_api.py: note: In function "get_principal_summary":
src/adapters/gam_reporting_api.py:615:20: error: Incompatible types in assignment (expression has type "Select[tuple[AdapterConfig]]", variable has type "Select[tuple[Principal]]")  [assignment]
src/adapters/gam_reporting_api.py:631:53: error: Argument "date_range" to "get_advertiser_summary" of "GAMReportingService" has incompatible type "str"; expected "Literal['lifetime', 'this_month', 'today']"  [arg-type]
src/services/slack_notifier.py: note: In member "send_message" of class "SlackNotifier":
src/services/slack_notifier.py:86:33: error: Incompatible types in assignment (expression has type "list[dict[str, Any]]", target has type "str")  [assignment]
src/services/slack_notifier.py:92:25: error: Argument "webhook_url" to "WebhookDelivery" has incompatible type "str | Any | None"; expected "str"  [arg-type]
src/services/slack_notifier.py: note: In member "notify_new_task" of class "SlackNotifier":
src/services/slack_notifier.py:200:49: error: Argument 2 to "send_message" of "SlackNotifier" has incompatible type "list[object]"; expected "list[dict[str, Any]] | None"  [arg-type]
src/services/slack_notifier.py: note: In member "notify_task_completed" of class "SlackNotifier":
src/services/slack_notifier.py:251:49: error: Argument 2 to "send_message" of "SlackNotifier" has incompatible type "list[object]"; expected "list[dict[str, Any]] | None"  [arg-type]
src/services/slack_notifier.py: note: In member "notify_creative_pending" of class "SlackNotifier":
src/services/slack_notifier.py:289:13: error: Value of type "object" is not indexable  [index]
src/services/slack_notifier.py:335:49: error: Argument 2 to "send_message" of "SlackNotifier" has incompatible type "list[object]"; expected "list[dict[str, Any]] | None"  [arg-type]
src/services/slack_notifier.py: note: In member "notify_audit_log" of class "SlackNotifier":
src/services/slack_notifier.py:395:43: error: Dict entry 1 has incompatible type "str": "list[dict[str, str]]"; expected "str": "Collection[str]"  [dict-item]
src/services/slack_notifier.py:415:21: error: List item 0 has incompatible type "dict[str, str]"; expected "str"  [list-item]
src/services/slack_notifier.py:432:25: error: Argument "webhook_url" to "WebhookDelivery" has incompatible type "str | Any | None"; expected "str"  [arg-type]
src/services/slack_notifier.py: note: In member "notify_media_buy_event" of class "SlackNotifier":
src/services/slack_notifier.py:693:38: error: Incompatible types in assignment (expression has type "list[dict[str, Sequence[object]]]", target has type "str")  [assignment]
src/services/slack_notifier.py:695:33: error: Incompatible types in assignment (expression has type "list[object]", target has type "str")  [assignment]
src/services/slack_notifier.py:701:25: error: Argument "webhook_url" to "WebhookDelivery" has incompatible type "str | Any | None"; expected "str"  [arg-type]
src/services/delivery_simulator.py: note: In member "__init__" of class "DeliverySimulator":
src/services/delivery_simulator.py:32:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/services/delivery_simulator.py:33:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/core/audit_logger.py: note: In member "log_operation" of class "AuditLogger":
src/core/audit_logger.py:210:17: error: Module "src.core.utils.tenant_utils" has no attribute "tenant_to_dict"  [attr-defined]
src/core/audit_logger.py: note: In member "log_security_violation" of class "AuditLogger":
src/core/audit_logger.py:281:13: error: Module "src.core.utils.tenant_utils" has no attribute "tenant_to_dict"  [attr-defined]
src/core/helpers/adapter_helpers.py:8: note: In module imported here:
src/adapters/triton_digital.py: note: In member "create_media_buy" of class "TritonDigital":
src/adapters/triton_digital.py:146:20: error: Missing named argument "media_buy_id" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:146:20: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:148:25: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/triton_digital.py: note: In member "check_media_buy_status" of class "TritonDigital":
src/adapters/triton_digital.py:367:20: error: Missing named argument "buyer_ref" for "CheckMediaBuyStatusResponse"  [call-arg]
src/adapters/triton_digital.py:385:24: error: Missing named argument "buyer_ref" for "CheckMediaBuyStatusResponse"  [call-arg]
src/adapters/triton_digital.py:389:24: error: Missing named argument "buyer_ref" for "CheckMediaBuyStatusResponse"  [call-arg]
src/adapters/triton_digital.py: note: In member "get_media_buy_delivery" of class "TritonDigital":
src/adapters/triton_digital.py:405:43: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/triton_digital.py:406:41: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/triton_digital.py:413:29: error: No overload variant of "__sub__" of "date" matches argument type "str"  [operator]
src/adapters/triton_digital.py:413:29: note: Possible overload variants:
src/adapters/triton_digital.py:413:29: note:     def __sub__(self, datetime, /) -> Never
src/adapters/triton_digital.py:413:29: note:     def __sub__(self, date, /) -> timedelta
src/adapters/triton_digital.py:413:29: note:     def __sub__(self, timedelta, /) -> date
src/adapters/triton_digital.py:434:30: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/triton_digital.py:435:28: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/triton_digital.py:481:39: error: Missing named argument "buyer_ref" for "PackageDelivery"  [call-arg]
src/adapters/triton_digital.py:481:39: error: Missing named argument "clicks" for "PackageDelivery"  [call-arg]
src/adapters/triton_digital.py:481:39: error: Missing named argument "video_completions" for "PackageDelivery"  [call-arg]
src/adapters/triton_digital.py:481:39: error: Missing named argument "pacing_index" for "PackageDelivery"  [call-arg]
src/adapters/triton_digital.py:494:32: error: Argument "by_package" to "AdapterGetMediaBuyDeliveryResponse" has incompatible type "list[PackageDelivery]"; expected "list[AdapterPackageDelivery]"  [arg-type]
src/adapters/triton_digital.py: note: In member "update_media_buy" of class "TritonDigital":
src/adapters/triton_digital.py:538:20: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:542:21: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/triton_digital.py:580:20: error: Missing named argument "errors" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:607:32: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:610:37: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/triton_digital.py:634:32: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:637:37: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/triton_digital.py:648:39: error: Dict entry 0 has incompatible type "str": "dict[str, object]"; expected "str": "bool"  [dict-item]
src/adapters/triton_digital.py:654:24: error: Missing named argument "errors" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:662:24: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:665:29: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/kevel.py: note: In member "create_media_buy" of class "Kevel":
src/adapters/kevel.py:273:37: error: Argument 1 to "int" has incompatible type "str | None"; expected "str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc"  [arg-type]
src/adapters/kevel.py: note: In member "get_media_buy_delivery" of class "Kevel":
src/adapters/kevel.py:501:43: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/kevel.py:502:41: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/kevel.py:508:29: error: No overload variant of "__sub__" of "date" matches argument type "str"  [operator]
src/adapters/kevel.py:508:29: note: Possible overload variants:
src/adapters/kevel.py:508:29: note:     def __sub__(self, datetime, /) -> Never
src/adapters/kevel.py:508:29: note:     def __sub__(self, date, /) -> timedelta
src/adapters/kevel.py:508:29: note:     def __sub__(self, timedelta, /) -> date
src/adapters/kevel.py:529:30: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/kevel.py:530:28: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/kevel.py: note: In member "update_media_buy" of class "Kevel":
src/adapters/kevel.py:605:20: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/kevel.py:609:21: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/kevel.py:647:20: error: Missing named argument "errors" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/kevel.py:675:32: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/kevel.py:678:37: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/kevel.py:702:32: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/kevel.py:705:37: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/kevel.py:717:39: error: Dict entry 0 has incompatible type "str": "int"; expected "str": "bool"  [dict-item]
src/adapters/kevel.py:723:24: error: Missing named argument "errors" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/kevel.py:731:24: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/kevel.py:734:29: error: Missing named argument "details" for "Error"  [call-arg]
src/admin/tests/unit/test_utils.py:5:1: error: Module "src.admin.utils" has no attribute "get_tenant_config_from_db"  [attr-defined]
src/admin/tests/unit/test_utils.py:5:1: error: Module "src.admin.utils" has no attribute "parse_json_config"  [attr-defined]
src/admin/tests/unit/test_utils.py:5:1: error: Module "src.admin.utils" has no attribute "require_auth"  [attr-defined]
src/admin/tests/unit/test_utils.py:5:1: error: Module "src.admin.utils" has no attribute "validate_gam_network_response"  [attr-defined]
src/admin/tests/unit/test_utils.py:5:1: error: Module "src.admin.utils" has no attribute "validate_gam_user_response"  [attr-defined]
src/admin/blueprints/creatives.py: note: In function "_call_webhook_for_creative_status":
src/admin/blueprints/creatives.py:90:40: error: Incompatible types in assignment (expression has type "dict[Any, Any]", target has type "str")  [assignment]
src/admin/blueprints/authorized_properties.py: note: In function "_validate_property_form":
src/admin/blueprints/authorized_properties.py:43:16: error: Incompatible return value type (got "tuple[bool, str, None]", expected "tuple[bool, str, tuple[str, str, str, list[dict[str, str]], list[str]]]")  [return-value]
src/admin/blueprints/authorized_properties.py:47:16: error: Incompatible return value type (got "tuple[bool, str, None]", expected "tuple[bool, str, tuple[str, str, str, list[dict[str, str]], list[str]]]")  [return-value]
src/admin/blueprints/authorized_properties.py:68:20: error: Incompatible return value type (got "tuple[bool, str, None]", expected "tuple[bool, str, tuple[str, str, str, list[dict[str, str]], list[str]]]")  [return-value]
src/admin/blueprints/authorized_properties.py:73:16: error: Incompatible return value type (got "tuple[bool, str, None]", expected "tuple[bool, str, tuple[str, str, str, list[dict[str, str]], list[str]]]")  [return-value]
src/admin/blueprints/authorized_properties.py: note: In function "_save_properties_batch":
src/admin/blueprints/authorized_properties.py:166:52: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime] | DateTime")  [assignment]
product_catalog_providers/factory.py:10: note: In module imported here,
src/core/tools/products.py:18: note: ... from here:
product_catalog_providers/signals.py: note: In member "initialize" of class "SignalsDiscoveryProvider":
product_catalog_providers/signals.py:65:27: error: Incompatible types in assignment (expression has type "Client[StreamableHttpTransport]", variable has type "None")  [assignment]
product_catalog_providers/signals.py:66:19: error: "None" has no attribute "__aenter__"  [attr-defined]
product_catalog_providers/signals.py: note: In member "_transform_signals_to_products" of class "SignalsDiscoveryProvider":
product_catalog_providers/signals.py:184:9: error: Need type annotation for "signals_by_category" (hint: "signals_by_category: dict[<type>, <type>] = ...")  [var-annotated]
product_catalog_providers/signals.py: note: In member "_create_product_from_signals" of class "SignalsDiscoveryProvider":
product_catalog_providers/signals.py:249:16: error: Missing named argument "floor_cpm" for "Product"  [call-arg]
product_catalog_providers/signals.py:249:16: error: Missing named argument "recommended_cpm" for "Product"  [call-arg]
product_catalog_providers/signals.py:249:16: error: Missing named argument "measurement" for "Product"  [call-arg]
product_catalog_providers/signals.py:249:16: error: Missing named argument "creative_policy" for "Product"  [call-arg]
product_catalog_providers/signals.py:261:17: error: Missing named argument "rate" for "PricingOption"  [call-arg]
product_catalog_providers/signals.py:261:17: error: Missing named argument "parameters" for "PricingOption"  [call-arg]
product_catalog_providers/signals.py:267:36: error: Missing named argument "p25" for "PriceGuidance"  [call-arg]
product_catalog_providers/signals.py: note: In member "_get_database_products" of class "SignalsDiscoveryProvider":
product_catalog_providers/signals.py:314:44: error: "Product" has no attribute "min_spend"  [attr-defined]
product_catalog_providers/factory.py:9: note: In module imported here,
src/core/tools/products.py:18: note: ... from here:
product_catalog_providers/mcp.py: note: In member "initialize" of class "MCPProductCatalog":
product_catalog_providers/mcp.py:45:23: error: Incompatible types in assignment (expression has type "Client[StreamableHttpTransport]", variable has type "None")  [assignment]
product_catalog_providers/mcp.py:46:15: error: "None" has no attribute "__aenter__"  [attr-defined]
product_catalog_providers/mcp.py: note: In member "get_products" of class "MCPProductCatalog":
product_catalog_providers/mcp.py:86:46: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "str")  [assignment]
product_catalog_providers/mcp.py:89:39: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "str")  [assignment]
product_catalog_providers/mcp.py:93:45: error: "None" has no attribute "call_tool"  [attr-defined]
src/admin/blueprints/settings.py: note: In function "<lambda>":
src/admin/blueprints/settings.py:267:20: error: Item "None" of "Any | None" has no attribute "get"  [union-attr]
src/core/testing_hooks.py: note: In member "__init__" of class "SimulatedSpendTracker":
src/core/testing_hooks.py:238:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/core/testing_hooks.py: note: In member "__init__" of class "TestSessionManager":
src/core/testing_hooks.py:259:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/core/creative_agent_registry.py: note: In member "__init__" of class "CreativeAgentRegistry":
src/core/creative_agent_registry.py:81:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/core/creative_agent_registry.py: note: In member "_fetch_formats_from_agent" of class "CreativeAgentRegistry":
src/core/creative_agent_registry.py:190:49: error: Incompatible types in assignment (expression has type "list[str]", target has type "int")  [assignment]
src/core/creative_agent_registry.py:192:49: error: Incompatible types in assignment (expression has type "str", target has type "int")  [assignment]
src/core/creative_agent_registry.py:194:42: error: Incompatible types in assignment (expression has type "str", target has type "int")  [assignment]
src/core/creative_agent_registry.py:212:29: error: Incompatible types in assignment (expression has type "str | Any | ImageContent | AudioContent | ResourceLink | EmbeddedResource", variable has type "dict[str, Any] | None")  [assignment]
src/core/creative_agent_registry.py: note: In member "preview_creative" of class "CreativeAgentRegistry":
src/core/creative_agent_registry.py:527:24: error: Incompatible return value type (got "Any | ImageContent | AudioContent | ResourceLink | EmbeddedResource", expected "dict[str, Any]")  [return-value]
src/core/creative_agent_registry.py: note: In member "build_creative" of class "CreativeAgentRegistry":
src/core/creative_agent_registry.py:593:24: error: Incompatible return value type (got "Any | ImageContent | AudioContent | ResourceLink | EmbeddedResource", expected "dict[str, Any]")  [return-value]
product_catalog_providers/factory.py:8: note: In module imported here,
src/core/tools/products.py:18: note: ... from here:
product_catalog_providers/hybrid.py: note: In member "_deduplicate_products" of class "HybridProductCatalog":
product_catalog_providers/hybrid.py:179:9: error: Need type annotation for "seen_names" (hint: "seen_names: set[<type>] = ...")  [var-annotated]
product_catalog_providers/hybrid.py: note: In function "create_hybrid_catalog_for_tenant":
product_catalog_providers/hybrid.py:226:14: error: Need type annotation for "config"  [var-annotated]
src/core/tools/signals.py: note: In function "get_signals":
src/core/tools/signals.py:55:9: error: Missing named argument "tenant_id" for "Signal"  [call-arg]
src/core/tools/signals.py:55:9: error: Missing named argument "created_at" for "Signal"  [call-arg]
src/core/tools/signals.py:55:9: error: Missing named argument "updated_at" for "Signal"  [call-arg]
src/core/tools/signals.py:55:9: error: Missing named argument "metadata" for "Signal"  [call-arg]
src/core/tools/signals.py:74:9: error: Missing named argument "tenant_id" for "Signal"  [call-arg]
src/core/tools/signals.py:74:9: error: Missing named argument "created_at" for "Signal"  [call-arg]
src/core/tools/signals.py:74:9: error: Missing named argument "updated_at" for "Signal"  [call-arg]
src/core/tools/signals.py:74:9: error: Missing named argument "metadata" for "Signal"  [call-arg]
src/core/tools/signals.py:82:17: error: Missing named argument "account" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:82:17: error: Missing named argument "decisioning_platform_segment_id" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:91:9: error: Missing named argument "tenant_id" for "Signal"  [call-arg]
src/core/tools/signals.py:91:9: error: Missing named argument "created_at" for "Signal"  [call-arg]
src/core/tools/signals.py:91:9: error: Missing named argument "updated_at" for "Signal"  [call-arg]
src/core/tools/signals.py:91:9: error: Missing named argument "metadata" for "Signal"  [call-arg]
src/core/tools/signals.py:99:17: error: Missing named argument "account" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:99:17: error: Missing named argument "estimated_activation_duration_minutes" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:108:9: error: Missing named argument "tenant_id" for "Signal"  [call-arg]
src/core/tools/signals.py:108:9: error: Missing named argument "created_at" for "Signal"  [call-arg]
src/core/tools/signals.py:108:9: error: Missing named argument "updated_at" for "Signal"  [call-arg]
src/core/tools/signals.py:108:9: error: Missing named argument "metadata" for "Signal"  [call-arg]
src/core/tools/signals.py:115:26: error: Missing named argument "account" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:115:26: error: Missing named argument "decisioning_platform_segment_id" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:115:26: error: Missing named argument "estimated_activation_duration_minutes" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:118:9: error: Missing named argument "tenant_id" for "Signal"  [call-arg]
src/core/tools/signals.py:118:9: error: Missing named argument "created_at" for "Signal"  [call-arg]
src/core/tools/signals.py:118:9: error: Missing named argument "updated_at" for "Signal"  [call-arg]
src/core/tools/signals.py:118:9: error: Missing named argument "metadata" for "Signal"  [call-arg]
src/core/tools/signals.py:126:17: error: Missing named argument "account" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:126:17: error: Missing named argument "decisioning_platform_segment_id" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:135:9: error: Missing named argument "tenant_id" for "Signal"  [call-arg]
src/core/tools/signals.py:135:9: error: Missing named argument "created_at" for "Signal"  [call-arg]
src/core/tools/signals.py:135:9: error: Missing named argument "updated_at" for "Signal"  [call-arg]
src/core/tools/signals.py:135:9: error: Missing named argument "metadata" for "Signal"  [call-arg]
src/core/tools/signals.py:142:26: error: Missing named argument "account" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:142:26: error: Missing named argument "decisioning_platform_segment_id" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:142:26: error: Missing named argument "estimated_activation_duration_minutes" for "SignalDeployment"  [call-arg]
src/core/tools/creative_formats.py: note: In function "_list_creative_formats_impl":
src/core/tools/creative_formats.py:37:15: error: Missing named argument "type" for "ListCreativeFormatsRequest"  [call-arg]
src/core/tools/creative_formats.py:37:15: error: Missing named argument "standard_only" for "ListCreativeFormatsRequest"  [call-arg]
src/core/tools/creative_formats.py:37:15: error: Missing named argument "category" for "ListCreativeFormatsRequest"  [call-arg]
src/core/tools/creative_formats.py:37:15: error: Missing named argument "format_ids" for "ListCreativeFormatsRequest"  [call-arg]
src/core/tools/creative_formats.py:123:16: error: Missing named argument "creative_agents" for "ListCreativeFormatsResponse"  [call-arg]
src/core/tools/creative_formats.py:123:16: error: Missing named argument "errors" for "ListCreativeFormatsResponse"  [call-arg]
src/core/tools/creative_formats.py:137:16: error: Incompatible return value type (got "dict[str, Any]", expected "ListCreativeFormatsResponse")  [return-value]
src/core/tools/creative_formats.py: note: In function "list_creative_formats":
src/core/tools/creative_formats.py:170:24: error: Argument "format_ids" to "ListCreativeFormatsRequest" has incompatible type "list[str] | None"; expected "list[FormatId] | None"  [arg-type]
src/core/tools/creative_formats.py:175:45: error: Argument 2 to "_list_creative_formats_impl" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/creative_formats.py: note: In function "list_creative_formats_raw":
src/core/tools/creative_formats.py:192:45: error: Argument 2 to "_list_creative_formats_impl" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/helpers/activity_helpers.py: note: In function "log_tool_activity":
src/core/helpers/activity_helpers.py:71:43: error: Incompatible types in assignment (expression has type "int", target has type "str")  [assignment]
src/adapters/google_ad_manager.py:35: note: In module imported here,
src/core/helpers/adapter_helpers.py:5: note: ... from here:
src/adapters/gam/managers/orders.py: note: In member "create_line_items" of class "GAMOrdersManager":
src/adapters/gam/managers/orders.py:439:47: error: Incompatible types in assignment (expression has type "dict[str, int]", target has type "int")  [assignment]
src/adapters/gam/managers/orders.py:463:51: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "int")  [assignment]
src/adapters/gam/managers/orders.py:491:29: error: Dict entry 0 has incompatible type "str": "dict[str, Any]"; expected "str": "int"  [dict-item]
src/adapters/gam/managers/orders.py:493:29: error: Dict entry 2 has incompatible type "str": "str"; expected "str": "int"  [dict-item]
src/adapters/gam/managers/orders.py:728:33: error: Value of type "int" is not indexable  [index]
src/core/tools/products.py:18: note: In module imported here:
product_catalog_providers/factory.py: note: In function "get_product_catalog_provider":
product_catalog_providers/factory.py:64:16: error: Cannot instantiate abstract class "ProductCatalogProvider" with abstract attribute "get_products"  [abstract]
src/adapters/gam/managers/__init__.py:20: note: In module imported here,
src/adapters/google_ad_manager.py:25: note: ... from here,
src/core/helpers/adapter_helpers.py:5: note: ... from here:
src/adapters/gam/managers/sync.py: note: In member "sync_inventory" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:131:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py:147:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py: note: In member "sync_orders" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:206:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py:222:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py: note: In member "sync_full" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:272:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py:288:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py: note: In member "sync_selective" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:353:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py:369:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py: note: In member "get_sync_status" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:396:27: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/adapters/gam/managers/sync.py:401:43: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/adapters/gam/managers/sync.py:402:48: error: Unsupported left operand type for - ("DateTime")  [operator]
src/adapters/gam/managers/sync.py: note: In member "get_sync_history" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:451:31: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/adapters/gam/managers/sync.py:456:42: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/adapters/gam/managers/sync.py:457:47: error: Unsupported left operand type for - ("DateTime")  [operator]
src/adapters/gam/managers/sync.py: note: In member "_get_recent_sync" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:531:33: error: Item "DateTime" of "DateTime | None" has no attribute "isoformat"  [union-attr]
src/adapters/gam/managers/sync.py:531:33: error: Item "None" of "DateTime | None" has no attribute "isoformat"  [union-attr]
src/adapters/gam/managers/sync.py: note: In member "get_sync_stats" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:612:35: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/services/gam_inventory_service.py: note: In function "_save_inventory_to_db":
src/services/gam_inventory_service.py:90:9: error: Need type annotation for "to_insert" (hint: "to_insert: list[<type>] = ...")  [var-annotated]
src/services/gam_inventory_service.py:91:9: error: Need type annotation for "to_update" (hint: "to_update: list[<type>] = ...")  [var-annotated]
src/services/gam_inventory_service.py: note: In member "_save_inventory_to_db" of class "GAMInventoryService":
src/services/gam_inventory_service.py:223:9: error: Incompatible types in assignment (expression has type "CustomTargetingKey", variable has type "tuple[str, str]")  [assignment]
src/services/gam_inventory_service.py:227:33: error: "tuple[str, str]" has no attribute "id"  [attr-defined]
src/services/gam_inventory_service.py:228:25: error: "tuple[str, str]" has no attribute "name"  [attr-defined]
src/services/gam_inventory_service.py:229:26: error: "tuple[str, str]" has no attribute "display_name"  [attr-defined]
src/services/gam_inventory_service.py:230:27: error: "tuple[str, str]" has no attribute "status"  [attr-defined]
src/services/gam_inventory_service.py:232:37: error: "tuple[str, str]" has no attribute "display_name"  [attr-defined]
src/services/gam_inventory_service.py:233:29: error: "tuple[str, str]" has no attribute "type"  [attr-defined]
src/services/gam_inventory_service.py:234:40: error: "tuple[str, str]" has no attribute "reportable_type"  [attr-defined]
src/services/gam_inventory_service.py:239:49: error: "tuple[str, str]" has no attribute "id"  [attr-defined]
src/services/gam_inventory_service.py:247:60: error: "tuple[str, str]" has no attribute "id"  [attr-defined]
src/services/gam_inventory_service.py:254:30: error: "tuple[str, str]" has no attribute "display_name"  [attr-defined]
src/services/gam_inventory_service.py:260:37: error: "tuple[str, str]" has no attribute "name"  [attr-defined]
src/services/gam_inventory_service.py:261:45: error: "tuple[str, str]" has no attribute "display_name"  [attr-defined]
src/services/gam_inventory_service.py:323:13: error: Incompatible types in assignment (expression has type "Update", variable has type "Select[tuple[str, str, int]]")  [assignment]
src/services/gam_inventory_service.py: note: In member "_streaming_sync_all_inventory" of class "GAMInventoryService":
src/services/gam_inventory_service.py:416:58: error: Argument 2 to "_write_custom_targeting_keys" of "GAMInventoryService" has incompatible type "dict_values[str, CustomTargetingKey]"; expected "list[Any]"  [arg-type]
src/services/gam_inventory_service.py: note: In member "_flush_batch" of class "GAMInventoryService":
src/services/gam_inventory_service.py:688:46: error: Argument 1 to "bulk_insert_mappings" of "Session" has incompatible type "type[GAMInventory]"; expected "Mapper[Any]"  [arg-type]
src/services/gam_inventory_service.py:692:46: error: Argument 1 to "bulk_update_mappings" of "Session" has incompatible type "type[GAMInventory]"; expected "Mapper[Any]"  [arg-type]
src/services/gam_inventory_service.py:714:22: error: Argument "orig" to "OperationalError" has incompatible type "BaseException | None"; expected "BaseException"  [arg-type]
src/services/gam_inventory_service.py: note: In member "_upsert_inventory_item" of class "GAMInventoryService":
src/services/gam_inventory_service.py:790:36: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime] | DateTime")  [assignment]
src/services/gam_inventory_service.py: note: In member "get_ad_unit_tree" of class "GAMInventoryService":
src/services/gam_inventory_service.py:861:17: error: Item "str" of "str | list[Any] | dict[Any, Any] | None" has no attribute "append"  [union-attr]
src/services/gam_inventory_service.py:861:17: error: Item "None" of "str | list[Any] | dict[Any, Any] | None" has no attribute "append"  [union-attr]
src/services/gam_inventory_service.py:861:17: error: Item "dict[Any, Any]" of "str | list[Any] | dict[Any, Any] | None" has no attribute "append"  [union-attr]
src/services/gam_inventory_service.py:864:16: error: Incompatible types in assignment (expression has type "Select[tuple[DateTime]]", variable has type "Select[tuple[GAMInventory]]")  [assignment]
src/services/gam_inventory_service.py:866:21: error: "GAMInventory" has no attribute "isoformat"  [attr-defined]
src/services/gam_inventory_service.py: note: In member "search_inventory" of class "GAMInventoryService":
src/services/gam_inventory_service.py:1024:32: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/services/gam_inventory_service.py: note: In member "get_product_inventory" of class "GAMInventoryService":
src/services/gam_inventory_service.py:1045:20: error: Incompatible return value type (got "None", expected "dict[str, Any]")  [return-value]
src/services/gam_inventory_service.py:1048:16: error: Incompatible types in assignment (expression has type "Select[tuple[ProductInventoryMapping]]", variable has type "Select[tuple[Product]]")  [assignment]
src/services/gam_inventory_service.py:1058:20: error: Incompatible types in assignment (expression has type "Select[tuple[GAMInventory]]", variable has type "Select[tuple[Product]]")  [assignment]
src/services/gam_inventory_service.py:1061:52: error: "Product" has no attribute "inventory_type"  [attr-defined]
src/services/gam_inventory_service.py:1062:50: error: "Product" has no attribute "inventory_id"  [attr-defined]
src/services/gam_inventory_service.py:1069:27: error: "Product" has no attribute "inventory_id"  [attr-defined]
src/services/gam_inventory_service.py:1071:29: error: "Product" has no attribute "path"  [attr-defined]
src/services/gam_inventory_service.py:1072:35: error: "Product" has no attribute "is_primary"  [attr-defined]
src/services/gam_inventory_service.py:1073:33: error: "Product" has no attribute "inventory_metadata"  [attr-defined]
src/services/gam_inventory_service.py:1076:20: error: "Product" has no attribute "inventory_type"  [attr-defined]
src/services/gam_inventory_service.py:1078:22: error: "Product" has no attribute "inventory_type"  [attr-defined]
src/services/gam_inventory_service.py: note: In member "update_product_inventory" of class "GAMInventoryService":
src/services/gam_inventory_service.py:1119:20: error: Incompatible types in assignment (expression has type "Delete", variable has type "Select[tuple[Product]]")  [assignment]
src/services/gam_inventory_service.py: note: In member "suggest_inventory_for_product" of class "GAMInventoryService":
src/services/gam_inventory_service.py:1189:29: error: "dict[str, str]" has no attribute "split"  [attr-defined]
src/services/gam_inventory_service.py:1205:16: error: Incompatible types in assignment (expression has type "Select[tuple[GAMInventory]]", variable has type "Select[tuple[Product]]")  [assignment]
src/services/gam_inventory_service.py:1219:26: error: "Product" has no attribute "inventory_metadata"  [attr-defined]
src/services/gam_inventory_service.py:1227:76: error: "Product" has no attribute "path"  [attr-defined]
src/services/gam_inventory_service.py:1234:16: error: "Product" has no attribute "inventory_metadata"  [attr-defined]
src/services/gam_inventory_service.py:1239:20: error: "Product" has no attribute "path"  [attr-defined]
src/services/gam_inventory_service.py:1247:35: error: "Product" has no attribute "inventory_id"  [attr-defined]
src/services/gam_inventory_service.py:1249:48: error: "Product" has no attribute "path"  [attr-defined]
src/services/gam_inventory_service.py:1258:30: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[str, object]], object]"; expected "Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
src/services/gam_inventory_service.py: note: In function "suggest_inventory_for_product":
src/services/gam_inventory_service.py:1258:40: error: Incompatible return value type (got "object", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
src/services/gam_inventory_service.py: note: In member "get_all_targeting_data" of class "GAMInventoryService":
src/services/gam_inventory_service.py:1282:9: error: Need type annotation for "custom_values" (hint: "custom_values: dict[<type>, <type>] = ...")  [var-annotated]
src/services/gam_inventory_service.py:1330:16: error: Incompatible types in assignment (expression has type "Select[tuple[DateTime]]", variable has type "Select[tuple[GAMInventory]]")  [assignment]
src/services/gam_inventory_service.py:1332:21: error: "GAMInventory" has no attribute "isoformat"  [attr-defined]
src/services/gam_inventory_service.py:1370:36: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1372:36: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1373:35: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/core/helpers/adapter_helpers.py:5: note: In module imported here:
src/adapters/google_ad_manager.py: note: In member "__init__" of class "GoogleAdManager":
src/adapters/google_ad_manager.py:133:35: error: Incompatible types in assignment (expression has type "None", variable has type "GAMClientManager")  [assignment]
src/adapters/google_ad_manager.py:149:38: error: Incompatible types in assignment (expression has type "None", variable has type "GAMCreativesManager")  [assignment]
src/adapters/google_ad_manager.py:152:75: error: Argument 2 to "GAMInventoryManager" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:156:79: error: Argument 4 to "GAMSyncManager" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:158:52: error: Argument 1 to "GAMWorkflowManager" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py: note: In member "create_media_buy" of class "GoogleAdManager":
src/adapters/google_ad_manager.py:306:28: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:307:35: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:328:20: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:329:27: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:331:25: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/google_ad_manager.py:362:20: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:363:27: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:365:25: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/google_ad_manager.py:395:24: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:395:24: error: Missing named argument "errors" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:396:31: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:403:24: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:404:31: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:406:29: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/google_ad_manager.py:425:20: error: Incompatible types in assignment (expression has type "Select[tuple[AdapterConfig]]", variable has type "Select[tuple[Product]]")  [assignment]
src/adapters/google_ad_manager.py:427:35: error: "Product" has no attribute "gam_order_name_template"  [attr-defined]
src/adapters/google_ad_manager.py:428:39: error: "Product" has no attribute "gam_order_name_template"  [attr-defined]
src/adapters/google_ad_manager.py:480:20: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:481:27: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:483:25: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/google_ad_manager.py:503:20: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:503:20: error: Missing named argument "errors" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:504:27: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:520:16: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:520:16: error: Missing named argument "errors" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:521:23: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py: note: In member "add_creative_assets" of class "GoogleAdManager":
src/adapters/google_ad_manager.py:574:17: error: Need type annotation for "asset_statuses" (hint: "asset_statuses: list[<type>] = ...")  [var-annotated]
src/adapters/google_ad_manager.py: note: In member "check_media_buy_status" of class "GoogleAdManager":
src/adapters/google_ad_manager.py:675:16: error: Unexpected keyword argument "message" for "CheckMediaBuyStatusResponse"  [call-arg]
src/adapters/google_ad_manager.py: note: In class "GoogleAdManager":
src/adapters/google_ad_manager.py:881:5: error: Name "_is_admin_principal" already defined on line 200  [no-redef]
src/adapters/google_ad_manager.py:890:5: error: Name "_validate_creative_for_gam" already defined on line 208  [no-redef]
src/adapters/google_ad_manager.py:894:5: error: Name "_get_creative_type" already defined on line 214  [no-redef]
src/adapters/google_ad_manager.py:898:5: error: Name "_check_order_has_guaranteed_items" already defined on line 226  [no-redef]
src/core/schemas.py: note: In member "check_media_buy_status" of class "GoogleAdManager":
src/core/schemas.py: note: "CheckMediaBuyStatusResponse" defined here
src/adapters/google_ad_manager.py: note: In member "get_media_buy_delivery" of class "GoogleAdManager":
src/adapters/google_ad_manager.py:683:16: error: Unexpected keyword argument "media_buy_id" for "GetMediaBuyDeliveryResponse"  [call-arg]
src/core/schemas.py: note: "GetMediaBuyDeliveryResponse" defined here
src/adapters/google_ad_manager.py:683:16: error: Unexpected keyword argument "delivery_data" for "GetMediaBuyDeliveryResponse"  [call-arg]
src/adapters/google_ad_manager.py:683:16: error: Unexpected keyword argument "message" for "GetMediaBuyDeliveryResponse"  [call-arg]
src/adapters/google_ad_manager.py:679:5: error: Signature of "get_media_buy_delivery" incompatible with supertype "src.adapters.base.AdServerAdapter"  [override]
src/adapters/google_ad_manager.py:679:5: note:      Superclass:
src/adapters/google_ad_manager.py:679:5: note:          def get_media_buy_delivery(self, media_buy_id: str, date_range: ReportingPeriod, today: datetime) -> AdapterGetMediaBuyDeliveryResponse
src/adapters/google_ad_manager.py:679:5: note:      Subclass:
src/adapters/google_ad_manager.py:679:5: note:          def get_media_buy_delivery(self, media_buy_id: str, today: datetime) -> GetMediaBuyDeliveryResponse
src/adapters/google_ad_manager.py: note: In member "update_media_buy" of class "GoogleAdManager":
src/adapters/google_ad_manager.py:706:20: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:709:25: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/google_ad_manager.py:721:24: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:721:24: error: Missing named argument "errors" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:728:24: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:732:25: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/google_ad_manager.py:751:28: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:751:28: error: Missing named argument "errors" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:758:28: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:762:29: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/google_ad_manager.py:770:16: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:770:16: error: Missing named argument "errors" for "UpdateMediaBuyResponse"  [call-arg]
src/services/background_sync_service.py: note: In function "start_inventory_sync_background":
src/services/background_sync_service.py:70:16: error: "DateTime" has no attribute "tzinfo"  [attr-defined]
src/services/background_sync_service.py:71:30: error: "DateTime" has no attribute "replace"  [attr-defined]
src/services/background_sync_service.py:73:28: error: No overload variant of "__sub__" of "datetime" matches argument type "DateTime"  [operator]
src/services/background_sync_service.py:73:28: note: Possible overload variants:
src/services/background_sync_service.py:73:28: note:     def __sub__(self, datetime, /) -> timedelta
src/services/background_sync_service.py:73:28: note:     def __sub__(self, timedelta, /) -> datetime
src/services/background_sync_service.py:79:46: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/background_sync_service.py: note: In function "_run_sync_thread":
src/services/background_sync_service.py:200:29: error: Argument 1 to "write" of "_TemporaryFileWrapper" has incompatible type "str | None"; expected "str"  [arg-type]
src/services/background_sync_service.py: note: In function "_mark_sync_complete":
src/services/background_sync_service.py:476:41: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/background_sync_service.py: note: In function "_mark_sync_failed":
src/services/background_sync_service.py:492:41: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/background_sync_service.py:495:21: error: "SyncJob" has no attribute "duration_seconds"  [attr-defined]
src/services/background_sync_service.py:495:50: error: Unsupported left operand type for - ("DateTime")  [operator]
src/services/background_sync_service.py:495:50: error: Unsupported left operand type for - ("None")  [operator]
src/services/background_sync_service.py:495:50: note: Left operand is of type "DateTime | None"
src/admin/sync_api.py: note: In function "trigger_sync":
src/admin/sync_api.py:90:16: error: Incompatible types in assignment (expression has type "Select[tuple[AdapterConfig]]", variable has type "Select[tuple[Tenant]]")  [assignment]
src/admin/sync_api.py:106:20: error: Incompatible types in assignment (expression has type "Select[tuple[SyncJob]]", variable has type "Select[tuple[Tenant]]")  [assignment]
src/admin/sync_api.py:114:20: error: "Tenant" has no attribute "status"  [attr-defined]
src/admin/sync_api.py:115:87: error: "Tenant" has no attribute "sync_id"  [attr-defined]
src/admin/sync_api.py:121:44: error: "Tenant" has no attribute "sync_id"  [attr-defined]
src/admin/sync_api.py:122:49: error: "Tenant" has no attribute "completed_at"  [attr-defined]
src/admin/sync_api.py:150:25: error: Unexpected keyword argument "access_token" for "Principal"  [call-arg]
src/core/schemas.py: note: "Principal" defined here
src/admin/sync_api.py:160:33: error: "Tenant" has no attribute "gam_network_code"  [attr-defined]
src/admin/sync_api.py:161:34: error: "Tenant" has no attribute "gam_refresh_token"  [attr-defined]
src/admin/sync_api.py:162:34: error: "Tenant" has no attribute "gam_trafficker_id"  [attr-defined]
src/admin/sync_api.py:163:45: error: "Tenant" has no attribute "gam_manual_approval_required"  [attr-defined]
src/admin/sync_api.py:171:30: error: "Tenant" has no attribute "gam_network_code"  [attr-defined]
src/admin/sync_api.py:173:31: error: "Tenant" has no attribute "gam_trafficker_id"  [attr-defined]
src/admin/sync_api.py:209:41: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/admin/sync_api.py: note: In function "get_sync_status":
src/admin/sync_api.py:243:27: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/admin/sync_api.py:249:40: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/admin/sync_api.py:250:45: error: Unsupported left operand type for - ("DateTime")  [operator]
src/admin/sync_api.py: note: In function "get_sync_history":
src/admin/sync_api.py:306:31: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/admin/sync_api.py:312:42: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/admin/sync_api.py:313:47: error: Unsupported left operand type for - ("DateTime")  [operator]
src/admin/sync_api.py: note: In function "initialize_tenant_management_api_key":
src/admin/sync_api.py:696:20: error: Incompatible return value type (got "str | None", expected "str")  [return-value]
src/core/helpers/adapter_helpers.py: note: In function "get_adapter":
src/core/helpers/adapter_helpers.py:30:45: error: Incompatible types in assignment (expression has type "bool | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:33:50: error: Incompatible types in assignment (expression has type "str | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:34:51: error: Incompatible types in assignment (expression has type "str | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:35:51: error: Incompatible types in assignment (expression has type "str | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:51:52: error: Incompatible types in assignment (expression has type "None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:53:48: error: Incompatible types in assignment (expression has type "str | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:54:45: error: Incompatible types in assignment (expression has type "str | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:60:48: error: Incompatible types in assignment (expression has type "str | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:61:45: error: Incompatible types in assignment (expression has type "str | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:79:26: error: Argument "network_code" to "GoogleAdManager" has incompatible type "bool | None"; expected "str"  [arg-type]
src/core/helpers/adapter_helpers.py:80:27: error: Argument "advertiser_id" to "GoogleAdManager" has incompatible type "bool | None"; expected "str | None"  [arg-type]
src/core/helpers/adapter_helpers.py:81:27: error: Argument "trafficker_id" to "GoogleAdManager" has incompatible type "bool | None"; expected "str | None"  [arg-type]
src/services/ai_product_service.py: note: In member "_identify_product_opportunities" of class "AIProductConfigurationService":
src/services/ai_product_service.py:143:74: error: List comprehension has incompatible type List[Any | None]; expected List[str]  [misc]
src/services/ai_product_service.py:153:75: error: List comprehension has incompatible type List[Any | None]; expected List[str]  [misc]
src/services/ai_product_service.py:163:82: error: List comprehension has incompatible type List[Any | None]; expected List[str]  [misc]
src/services/ai_product_service.py:179:72: error: List comprehension has incompatible type List[Any | None]; expected List[str]  [misc]
src/services/ai_product_service.py:194:77: error: List comprehension has incompatible type List[Any | None]; expected List[str]  [misc]
src/services/ai_product_service.py: note: In member "_fetch_ad_server_inventory" of class "AIProductConfigurationService":
src/services/ai_product_service.py:254:20: error: Unexpected keyword argument "targeting_keys" for "AdServerInventory"  [call-arg]
src/services/ai_product_service.py:254:20: error: Unexpected keyword argument "formats" for "AdServerInventory"  [call-arg]
src/services/ai_product_service.py:263:24: error: Unexpected keyword argument "targeting_keys" for "AdServerInventory"  [call-arg]
src/services/ai_product_service.py:263:24: error: Unexpected keyword argument "formats" for "AdServerInventory"  [call-arg]
src/services/ai_product_service.py:266:20: error: Incompatible types in assignment (expression has type "Select[tuple[Principal]]", variable has type "Select[tuple[Tenant]]")  [assignment]
src/services/ai_product_service.py:273:29: error: Unexpected keyword argument "access_token" for "Principal"  [call-arg]
src/core/schemas.py: note: "Principal" defined here
src/services/ai_product_service.py:282:28: error: "Tenant" has no attribute "platform_mappings"  [attr-defined]
src/services/ai_product_service.py:288:75: error: "Tenant" has no attribute "principal_id"; maybe "principals"?  [attr-defined]
src/services/ai_product_service.py:293:79: error: "Tenant" has no attribute "principal_id"; maybe "principals"?  [attr-defined]
src/services/ai_product_service.py:296:29: error: Unexpected keyword argument "access_token" for "Principal"  [call-arg]
src/services/ai_product_service.py:297:34: error: "Tenant" has no attribute "principal_id"; maybe "principals"?  [attr-defined]
src/services/ai_product_service.py:299:34: error: "Tenant" has no attribute "access_token"  [attr-defined]
src/services/ai_product_service.py:311:20: error: Incompatible types in assignment (expression has type "Select[tuple[AdapterConfig]]", variable has type "Select[tuple[Tenant]]")  [assignment]
src/services/ai_product_service.py:316:51: error: "Tenant" has no attribute "adapter_type"  [attr-defined]
src/services/ai_product_service.py:318:20: error: "Tenant" has no attribute "adapter_type"  [attr-defined]
src/services/ai_product_service.py:319:49: error: "Tenant" has no attribute "mock_dry_run"  [attr-defined]
src/services/ai_product_service.py:321:22: error: "Tenant" has no attribute "adapter_type"  [attr-defined]
src/services/ai_product_service.py:324:45: error: "Tenant" has no attribute "gam_network_code"  [attr-defined]
src/services/ai_product_service.py:325:46: error: "Tenant" has no attribute "gam_refresh_token"  [attr-defined]
src/services/ai_product_service.py:327:46: error: "Tenant" has no attribute "gam_trafficker_id"  [attr-defined]
src/services/ai_product_service.py:328:57: error: "Tenant" has no attribute "gam_manual_approval_required"  [attr-defined]
src/services/ai_product_service.py:332:22: error: "Tenant" has no attribute "adapter_type"  [attr-defined]
src/services/ai_product_service.py:335:43: error: "Tenant" has no attribute "kevel_network_id"  [attr-defined]
src/services/ai_product_service.py:336:40: error: "Tenant" has no attribute "kevel_api_key"  [attr-defined]
src/services/ai_product_service.py:337:57: error: "Tenant" has no attribute "kevel_manual_approval_required"  [attr-defined]
src/services/ai_product_service.py:341:22: error: "Tenant" has no attribute "adapter_type"  [attr-defined]
src/services/ai_product_service.py:344:43: error: "Tenant" has no attribute "triton_station_id"  [attr-defined]
src/services/ai_product_service.py:345:40: error: "Tenant" has no attribute "triton_api_key"  [attr-defined]
src/services/ai_product_service.py:362:20: error: Unexpected keyword argument "targeting_keys" for "AdServerInventory"  [call-arg]
src/services/ai_product_service.py:362:20: error: Unexpected keyword argument "formats" for "AdServerInventory"  [call-arg]
src/services/ai_product_service.py: note: In member "_analyze_inventory_for_product" of class "AIProductConfigurationService":
src/services/ai_product_service.py:422:17: error: "Collection[str]" has no attribute "append"  [attr-defined]
src/services/ai_product_service.py:429:9: error: "Collection[str]" has no attribute "sort"  [attr-defined]
src/services/ai_product_service.py:430:42: error: Value of type "Collection[str]" is not indexable  [index]
src/services/ai_product_service.py:434:13: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
src/services/ai_product_service.py:435:13: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
src/services/ai_product_service.py:445:9: error: Incompatible types in assignment (expression has type "str", variable has type "dict[str, Any]")  [assignment]
src/core/tools/products.py: note: In function "_get_products_impl":
src/core/tools/products.py:62:27: error: Incompatible types in assignment (expression has type "None", variable has type "AdCPTestContext")  [assignment]
src/core/tools/products.py:71:32: error: Incompatible types in assignment (expression has type "str | None", variable has type "str")  [assignment]
src/core/tools/products.py:71:32: error: Incompatible types in assignment (expression has type "dict[Any, Any] | None", variable has type "dict[str, str]")  [assignment]
src/core/tools/products.py:247:97: error: Argument 1 to "join" of "str" has incompatible type "list[str] | None"; expected "Iterable[str]"  [arg-type]
src/core/tools/products.py:265:34: error: Incompatible types in assignment (expression has type "dict[Never, Never]", variable has type "str")  [assignment]
src/core/tools/products.py:298:15: error: Argument "brief" to "get_products" of "ProductCatalogProvider" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/products.py:505:12: error: Missing named argument "errors" for "GetProductsResponse"  [call-arg]
src/core/tools/products.py: note: In function "get_products":
src/core/tools/products.py:547:42: error: Argument 2 to "_get_products_impl" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/products.py: note: In function "get_products_raw":
src/core/tools/products.py:586:42: error: Argument 2 to "_get_products_impl" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/properties.py: note: In function "_list_authorized_properties_impl":
src/core/tools/properties.py:51:15: error: Missing named argument "tags" for "ListAuthorizedPropertiesRequest"  [call-arg]
src/core/tools/properties.py:85:47: error: Argument 1 to "get_testing_context" has incompatible type "Any | dict[Any, Any]"; expected "Context"  [arg-type]
src/core/tools/properties.py:93:23: error: Argument 1 to "log_tool_activity" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/properties.py:127:35: error: Argument "property_type" to "Property" has incompatible type "str"; expected "Literal['website', 'mobile_app', 'ctv_app', 'dooh', 'podcast', 'radio', 'streaming_audio']"  [arg-type]
src/core/tools/properties.py:138:24: error: Incompatible types in assignment (expression has type "Select[tuple[PropertyTag]]", variable has type "Select[tuple[AuthorizedProperty]]")  [assignment]
src/core/tools/properties.py:142:34: error: "AuthorizedProperty" has no attribute "tag_id"  [attr-defined]
src/core/tools/properties.py:143:61: error: "AuthorizedProperty" has no attribute "description"  [attr-defined]
src/core/tools/properties.py:201:24: error: Missing named argument "primary_channels" for "ListAuthorizedPropertiesResponse"  [call-arg]
src/core/tools/properties.py:201:24: error: Missing named argument "primary_countries" for "ListAuthorizedPropertiesResponse"  [call-arg]
src/core/tools/properties.py:201:24: error: Missing named argument "portfolio_description" for "ListAuthorizedPropertiesResponse"  [call-arg]
src/core/tools/properties.py:201:24: error: Missing named argument "last_updated" for "ListAuthorizedPropertiesResponse"  [call-arg]
src/core/tools/properties.py:231:28: error: Argument "principal_name" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/properties.py:232:26: error: Argument "principal_id" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/properties.py: note: In function "list_authorized_properties":
src/core/tools/properties.py:296:32: error: Incompatible types in assignment (expression has type "Context", variable has type "MinimalContext | None")  [assignment]
src/core/tools/properties.py:303:28: error: Incompatible types in assignment (expression has type "Context", variable has type "MinimalContext | None")  [assignment]
src/core/tools/properties.py:307:24: error: Incompatible types in assignment (expression has type "Context | None", variable has type "MinimalContext | None")  [assignment]
src/core/tools/properties.py:309:50: error: Argument 2 to "_list_authorized_properties_impl" has incompatible type "MinimalContext | None"; expected "Context | None"  [arg-type]
src/core/tools/media_buy_update.py: note: In function "_update_media_buy_impl":
src/core/tools/media_buy_update.py:192:22: error: Argument "principal_id" to "get_or_create_context" of "ContextManager" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_update.py:199:20: error: Item "None" of "Context | None" has no attribute "context_id"  [union-attr]
src/core/tools/media_buy_update.py:207:38: error: Argument 1 to "get_principal_object" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_update.py:302:32: error: No overload variant of "__sub__" of "datetime" matches argument type "DateTime"  [operator]
src/core/tools/media_buy_update.py:302:32: note: Possible overload variants:
src/core/tools/media_buy_update.py:302:32: note:     def __sub__(self, datetime, /) -> timedelta
src/core/tools/media_buy_update.py:302:32: note:     def __sub__(self, timedelta, /) -> datetime
src/core/tools/media_buy_update.py:302:32: error: No overload variant of "__sub__" of "datetime" matches argument type "None"  [operator]
src/core/tools/media_buy_update.py:302:32: error: Unsupported left operand type for - ("DateTime")  [operator]
src/core/tools/media_buy_update.py:302:32: error: Unsupported left operand type for - ("None")  [operator]
src/core/tools/media_buy_update.py:302:32: note: Both left and right operands are unions
src/core/tools/media_buy_update.py:407:21: error: "UpdateMediaBuyRequest" has no attribute "_affected_packages"  [attr-defined]
src/core/tools/media_buy_update.py:408:17: error: "UpdateMediaBuyRequest" has no attribute "_affected_packages"  [attr-defined]
src/core/tools/media_buy_update.py:518:25: error: "UpdateMediaBuyRequest" has no attribute "_affected_packages"  [attr-defined]
src/core/tools/media_buy_update.py:519:21: error: "UpdateMediaBuyRequest" has no attribute "_affected_packages"  [attr-defined]
src/core/tools/media_buy_update.py:560:21: error: Incompatible types in assignment (expression has type "Update", variable has type "Select[tuple[MediaBuy]]")  [assignment]
src/core/tools/media_buy_update.py:573:17: error: "UpdateMediaBuyRequest" has no attribute "_affected_packages"  [attr-defined]
src/core/tools/media_buy_update.py:580:28: error: Incompatible types in assignment (expression has type "Sequence[MediaPackage]", variable has type "list[Any] | None")  [assignment]
src/core/tools/media_buy_update.py:582:28: error: Item "None" of "list[Any] | None" has no attribute "__iter__" (not iterable)  [union-attr]
src/core/tools/media_buy_update.py:585:25: error: "UpdateMediaBuyRequest" has no attribute "_affected_packages"  [attr-defined]
src/core/tools/media_buy_delivery.py: note: In function "_get_media_buy_delivery_impl":
src/core/tools/media_buy_delivery.py:50:38: error: Argument 1 to "get_principal_object" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_delivery.py:53:16: error: Missing named argument "aggregated_totals" for "GetMediaBuyDeliveryResponse"  [call-arg]
src/core/tools/media_buy_delivery.py:138:33: error: "DateTime" has no attribute "date"  [attr-defined]
src/core/tools/media_buy_delivery.py:139:31: error: "DateTime" has no attribute "date"  [attr-defined]
src/core/tools/media_buy_delivery.py:141:20: error: Unsupported operand types for < ("date" and "Date")  [operator]
src/core/tools/media_buy_delivery.py:141:20: note: Right operand is of type "Any | Date"
src/core/tools/media_buy_delivery.py:143:22: error: Unsupported operand types for > ("date" and "Date")  [operator]
src/core/tools/media_buy_delivery.py:143:22: note: Right operand is of type "Any | Date"
src/core/tools/media_buy_delivery.py:167:38: error: Argument 1 to "combine" of "datetime" has incompatible type "Date"; expected "date"  [arg-type]
src/core/tools/media_buy_delivery.py:168:38: error: Argument 1 to "combine" of "datetime" has incompatible type "Date"; expected "date"  [arg-type]
src/core/tools/media_buy_delivery.py:172:45: error: Unsupported operand types for < ("date" and "Date")  [operator]
src/core/tools/media_buy_delivery.py:174:47: error: Unsupported operand types for > ("date" and "Date")  [operator]
src/core/tools/media_buy_delivery.py:184:45: error: Argument 1 to "combine" of "datetime" has incompatible type "Date"; expected "date"  [arg-type]
src/core/tools/media_buy_delivery.py:185:52: error: Argument 1 to "combine" of "datetime" has incompatible type "Date"; expected "date"  [arg-type]
src/core/tools/media_buy_delivery.py:196:34: error: Unsupported left operand type for - ("Date")  [operator]
src/core/tools/media_buy_delivery.py:197:40: error: No overload variant of "__sub__" of "date" matches argument type "Date"  [operator]
src/core/tools/media_buy_delivery.py:197:40: note: Possible overload variants:
src/core/tools/media_buy_delivery.py:197:40: note:     def __sub__(self, datetime, /) -> Never
src/core/tools/media_buy_delivery.py:197:40: note:     def __sub__(self, date, /) -> timedelta
src/core/tools/media_buy_delivery.py:197:40: note:     def __sub__(self, timedelta, /) -> date
src/core/tools/media_buy_delivery.py:204:44: error: Unsupported operand types for * ("Decimal" and "float")  [operator]
src/core/tools/media_buy_delivery.py:216:25: error: Missing named argument "clicks" for "PackageDelivery"  [call-arg]
src/core/tools/media_buy_delivery.py:216:25: error: Missing named argument "video_completions" for "PackageDelivery"  [call-arg]
src/core/tools/media_buy_delivery.py:227:29: error: Missing named argument "daily_breakdown" for "MediaBuyDeliveryData"  [call-arg]
src/core/tools/media_buy_delivery.py:230:24: error: Argument "status" to "MediaBuyDeliveryData" has incompatible type "str"; expected "Literal['ready', 'active', 'paused', 'completed', 'failed']"  [arg-type]
src/core/tools/media_buy_delivery.py:231:24: error: Missing named argument "clicks" for "DeliveryTotals"  [call-arg]
src/core/tools/media_buy_delivery.py:231:24: error: Missing named argument "ctr" for "DeliveryTotals"  [call-arg]
src/core/tools/media_buy_delivery.py:231:24: error: Missing named argument "video_completions" for "DeliveryTotals"  [call-arg]
src/core/tools/media_buy_delivery.py:231:24: error: Missing named argument "completion_rate" for "DeliveryTotals"  [call-arg]
src/core/tools/media_buy_delivery.py:245:16: error: Missing named argument "aggregated_totals" for "GetMediaBuyDeliveryResponse"  [call-arg]
src/core/tools/media_buy_delivery.py:258:48: error: Argument 1 to "combine" of "datetime" has incompatible type "Date"; expected "date"  [arg-type]
src/core/tools/media_buy_delivery.py:259:46: error: Argument 1 to "combine" of "datetime" has incompatible type "Date"; expected "date"  [arg-type]
src/core/tools/media_buy_delivery.py:290:20: error: Missing named argument "aggregated_totals" for "GetMediaBuyDeliveryResponse"  [call-arg]
src/core/tools/media_buy_delivery.py: note: In function "get_media_buy_delivery":
src/core/tools/media_buy_delivery.py:342:46: error: Argument 2 to "_get_media_buy_delivery_impl" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/media_buy_delivery.py: note: In function "get_media_buy_delivery_raw":
src/core/tools/media_buy_delivery.py:378:46: error: Argument 2 to "_get_media_buy_delivery_impl" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/media_buy_create.py: note: In function "_create_media_buy_impl":
src/core/tools/media_buy_create.py:362:31: error: Argument "targeting_overlay" to "CreateMediaBuyRequest" has incompatible type "dict[str, Any] | None"; expected "Targeting | None"  [arg-type]
src/core/tools/media_buy_create.py:363:20: error: Argument "pacing" to "CreateMediaBuyRequest" has incompatible type "str"; expected "Literal['even', 'asap', 'daily_budget']"  [arg-type]
src/core/tools/media_buy_create.py:379:39: error: Argument 1 to "get_testing_context" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/media_buy_create.py:399:38: error: Argument 1 to "get_principal_object" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:410:14: error: Item "None" of "Context | None" has no attribute "headers"  [union-attr]
src/core/tools/media_buy_create.py:422:101: error: Argument "principal_id" to "create_context" of "ContextManager" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:469:50: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime] | DateTime")  [assignment]
src/core/tools/media_buy_create.py:512:13: error: Name "start_time" already defined on line 290  [no-redef]
src/core/tools/media_buy_create.py:734:45: error: Incompatible types in assignment (expression has type "None", variable has type "Decimal")  [assignment]
src/core/tools/media_buy_create.py:808:36: error: Incompatible types in assignment (expression has type "Decimal", variable has type "float | None")  [assignment]
src/core/tools/media_buy_create.py:810:24: error: Unsupported operand types for < ("Decimal" and "None")  [operator]
src/core/tools/media_buy_create.py:810:24: note: Left operand is of type "float | None"
src/core/tools/media_buy_create.py:908:36: error: Argument "principal_name" to "notify_media_buy_event" of "SlackNotifier" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:1001:47: error: Item "float" of "Budget | float" has no attribute "model_dump"  [union-attr]
src/core/tools/media_buy_create.py:1035:27: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:1054:13: error: Incompatible types in assignment (expression has type "src.core.schemas.Product", variable has type "src.core.database.models.Product")  [assignment]
src/core/tools/media_buy_create.py:1065:62: error: Argument "formats" to "generate_default_config" of "GAMProductConfigService" has incompatible type "list[dict[str, str]] | None"; expected "list[str] | None"  [arg-type]
src/core/tools/media_buy_create.py:1070:32: error: Incompatible types in assignment (expression has type "Select[tuple[Product]]", variable has type "Select[tuple[PushNotificationConfig]]")  [assignment]
src/core/tools/media_buy_create.py:1073:29: error: "PushNotificationConfig" has no attribute "implementation_config"  [attr-defined]
src/core/tools/media_buy_create.py:1078:39: error: Incompatible types in assignment (expression has type "str | None", variable has type "str")  [assignment]
src/core/tools/media_buy_create.py:1090:31: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:1104:13: error: Unexpected keyword argument "step_type" for "update_workflow_step" of "ContextManager"  [call-arg]
src/core/context_manager.py:221:5: note: "update_workflow_step" of "ContextManager" defined here
src/core/tools/media_buy_create.py:1104:13: error: Unexpected keyword argument "owner" for "update_workflow_step" of "ContextManager"  [call-arg]
src/core/tools/media_buy_create.py:1174:36: error: Argument "principal_name" to "notify_media_buy_event" of "SlackNotifier" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:1185:27: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:1204:9: error: Incompatible types in assignment (expression has type "src.core.schemas.Product", variable has type "src.core.database.models.Product")  [assignment]
src/core/tools/media_buy_create.py:1250:21: error: Incompatible types in assignment (expression has type "FormatId", variable has type "dict[str, str]")  [assignment]
src/core/tools/media_buy_create.py:1302:42: error: Argument 1 to "list" has incompatible type "list[dict[str, str]]"; expected "Iterable[FormatId]"  [arg-type]
src/core/tools/media_buy_create.py:1317:25: error: Incompatible types in assignment (expression has type "None", variable has type "str")  [assignment]
src/core/tools/media_buy_create.py:1321:33: error: Incompatible types in assignment (expression has type "str | None", variable has type "str")  [assignment]
src/core/tools/media_buy_create.py:1329:35: error: Argument "delivery_type" to "MediaPackage" has incompatible type "str"; expected "Literal['guaranteed', 'non_guaranteed']"  [arg-type]
src/core/tools/media_buy_create.py:1350:27: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:1493:38: error: Incompatible types in assignment (expression has type "None", variable has type "str")  [assignment]
src/core/tools/media_buy_create.py:1583:74: error: Argument 2 to "_convert_creative_to_adapter_asset" has incompatible type "list[str] | None"; expected "list[str]"  [arg-type]
src/core/tools/media_buy_create.py:1681:27: error: Argument 1 to "log_tool_activity" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/media_buy_create.py:1687:24: error: Incompatible types in assignment (expression has type "Select[tuple[Principal]]", variable has type "Select[tuple[PushNotificationConfig]]")  [assignment]
src/core/tools/media_buy_create.py:1690:38: error: "PushNotificationConfig" has no attribute "name"  [attr-defined]
src/core/tools/media_buy_create.py:1695:13: error: Module has no attribute "log_media_buy"  [attr-defined]
src/core/tools/media_buy_create.py:1754:24: error: Incompatible types in assignment (expression has type "Select[tuple[Principal]]", variable has type "Select[tuple[PushNotificationConfig]]")  [assignment]
src/core/tools/media_buy_create.py:1757:38: error: "PushNotificationConfig" has no attribute "name"  [attr-defined]
src/core/tools/media_buy_create.py:1799:28: error: Argument "principal_name" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:1867:13: error: Unexpected keyword argument "error_message" for "log_operation" of "AuditLogger"  [call-arg]
src/core/audit_logger.py:59:5: note: "log_operation" of "AuditLogger" defined here
src/core/tools/creatives.py: note: In function "_sync_creatives_impl":
src/core/tools/creatives.py:228:56: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/core/tools/creatives.py:237:58: error: Incompatible types in assignment (expression has type "Any | None", variable has type "SQLCoreOperations[str] | str")  [assignment]
src/core/tools/creatives.py:252:58: error: Incompatible types in assignment (expression has type "Any | None", variable has type "SQLCoreOperations[str] | str")  [assignment]
src/core/tools/creatives.py:580:61: error: Item "None" of "Any | None" has no attribute "get"  [union-attr]
src/core/tools/creatives.py:1150:28: error: Incompatible types in assignment (expression has type "Select[tuple[MediaBuy]]", variable has type "Select[tuple[Creative]]")  [assignment]
src/core/tools/creatives.py:1156:36: error: "Creative" has no attribute "raw_request"  [attr-defined]
src/core/tools/creatives.py:1160:48: error: "Creative" has no attribute "media_buy_id"  [attr-defined]
src/core/tools/creatives.py:1202:65: error: Argument 1 to "append" of "list" has incompatible type "Any | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1228:26: error: Argument "principal_id" to "get_or_create_context" of "ContextManager" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1258:32: error: Item "None" of "Context | None" has no attribute "context_id"  [union-attr]
src/core/tools/creatives.py:1305:37: error: Argument "creative_id" to "notify_creative_pending" of "SlackNotifier" has incompatible type "str | Any | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1306:40: error: Argument "principal_name" to "notify_creative_pending" of "SlackNotifier" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1307:37: error: Argument "format_type" to "notify_creative_pending" of "SlackNotifier" has incompatible type "str | Any | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1315:37: error: Argument "creative_id" to "notify_creative_pending" of "SlackNotifier" has incompatible type "str | Any | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1316:40: error: Argument "principal_name" to "notify_creative_pending" of "SlackNotifier" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1317:37: error: Argument "format_type" to "notify_creative_pending" of "SlackNotifier" has incompatible type "str | Any | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1340:24: error: Argument "principal_name" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1341:22: error: Argument "principal_id" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1357:23: error: Argument 1 to "log_tool_activity" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/creatives.py:1383:20: error: Incompatible types in assignment (expression has type "Select[tuple[Principal]]", variable has type "Select[tuple[Creative]]")  [assignment]
src/core/tools/creatives.py:1392:34: error: Argument "principal_id" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1393:32: error: Argument "adapter_id" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/creatives.py: note: In function "_list_creatives_impl":
src/core/tools/creatives.py:1546:24: error: Argument "sort_order" to "ListCreativesRequest" has incompatible type "str"; expected "Literal['asc', 'desc']"  [arg-type]
src/core/tools/creatives.py:1616:23: error: Incompatible types in assignment (expression has type "int | None", variable has type "int")  [assignment]
src/core/tools/creatives.py:1624:27: error: Incompatible types in assignment (expression has type "InstrumentedAttribute[DateTime | None]", variable has type "InstrumentedAttribute[str]")  [assignment]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "str"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "FormatId"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "str | None"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "float | None"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "int | None"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "dict[str, Any] | None"  [arg-type]
src/core/tools/creatives.py:1679:35: note: "dict" is invariant -- see https://mypy.readthedocs.io/en/stable/common_issues.html#variance
src/core/tools/creatives.py:1679:35: note: Consider using "Mapping" instead, which is covariant in the value type
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "list[str] | None"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "dict[str, dict[str, Any]] | None"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "Literal['html', 'javascript', 'vast_xml', 'vast_url'] | None"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "datetime"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "bool | None"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "dict[str, str] | None"  [arg-type]
src/core/tools/creatives.py:1709:23: error: Argument 1 to "log_tool_activity" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/admin/tests/unit/test_auth.py:8:1: error: Module "src.admin.utils" has no attribute "is_super_admin"  [attr-defined]
src/admin/tests/unit/test_auth.py:8:1: error: Module "src.admin.utils" has no attribute "is_tenant_admin"  [attr-defined]
src/core/tools/performance.py: note: In function "update_performance_index":
src/core/tools/performance.py:57:38: error: Argument 1 to "get_principal_object" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/performance.py:59:16: error: Unexpected keyword argument "message" for "UpdatePerformanceIndexResponse"  [call-arg]
src/core/schemas.py: note: "UpdatePerformanceIndexResponse" defined here
src/core/tools/performance.py:59:16: error: Unexpected keyword argument "errors" for "UpdatePerformanceIndexResponse"  [call-arg]
src/core/main.py: note: In function "get_task":
src/core/main.py:865:57: error: "type[Context]" has no attribute "tenant_id"  [attr-defined]
src/core/main.py: note: In function "complete_task":
src/core/main.py:935:57: error: "type[Context]" has no attribute "tenant_id"  [attr-defined]
src/core/main.py:947:13: error: "WorkflowStep" has no attribute "updated_at"  [attr-defined]
src/core/main.py:951:17: error: "WorkflowStep" has no attribute "error"  [attr-defined]
src/core/main.py:953:17: error: "WorkflowStep" has no attribute "error"  [attr-defined]
src/core/main.py:964:30: error: Argument "principal_id" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/main.py:979:33: error: "WorkflowStep" has no attribute "updated_at"  [attr-defined]
src/core/main.py: note: In function "admin_handler":
src/core/main.py:1002:17: error: "MutableMapping[str, Any]" has no attribute "copy"  [attr-defined]
src/core/main.py: note: At top level:
src/core/main.py:1010:6: error: Argument 1 has incompatible type "Callable[[Request, str, str], Coroutine[Any, Any, Any]]"; expected "Callable[[Request], Awaitable[Response]]"  [arg-type]
src/core/main.py: note: In function "tenant_admin_handler":
src/core/main.py:1017:17: error: "MutableMapping[str, Any]" has no attribute "copy"  [attr-defined]
src/core/main.py: note: At top level:
src/core/main.py:1025:6: error: Argument 1 has incompatible type "Callable[[Request, str], Coroutine[Any, Any, Any]]"; expected "Callable[[Request], Awaitable[Response]]"  [arg-type]
src/core/mcp_context_wrapper.py: note: In member "_create_tool_context" of class "MCPContextWrapper":
src/core/mcp_context_wrapper.py:217:9: error: Need type annotation for "conversation_history" (hint: "conversation_history: list[<type>] = ...")  [var-annotated]
src/core/mcp_server_enhanced.py:10:1: error: Module "fastmcp.server" has no attribute "Server"  [attr-defined]
src/core/mcp_server_enhanced.py:11:1: error: Module "fastmcp.server.server" has no attribute "Context"  [attr-defined]
src/core/mcp_server_enhanced.py: note: In member "_handle_tool_call" of class "EnhancedMCPServer":
src/core/mcp_server_enhanced.py:77:17: error: "BaseModel" has no attribute "__mcp_metadata__"  [attr-defined]
src/core/mcp_server_enhanced.py:78:13: error: "BaseModel" has no attribute "__mcp_metadata__"  [attr-defined]
Found 718 errors in 63 files (checked 219 source files)
