

â•­â”€ FastMCP 2.0 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                            â”‚
â”‚        _ __ ___ ______           __  __  _____________    ____    ____     â”‚
â”‚       _ __ ___ / ____/___ ______/ /_/  |/  / ____/ __ \  |___ \  / __ \    â”‚
â”‚      _ __ ___ / /_  / __ `/ ___/ __/ /|_/ / /   / /_/ /  ___/ / / / / /    â”‚
â”‚     _ __ ___ / __/ / /_/ (__  ) /_/ /  / / /___/ ____/  /  __/_/ /_/ /     â”‚
â”‚    _ __ ___ /_/    \__,_/____/\__/_/  /_/\____/_/      /_____(_)____/      â”‚
â”‚                                                                            â”‚
â”‚                                                                            â”‚
â”‚                                                                            â”‚
â”‚    ğŸ–¥ï¸  Server name:     AdCPBuySideV2_3_CustomAuth_Final                    â”‚
â”‚    ğŸ“¦ Transport:       Streamable-HTTP                                     â”‚
â”‚    ğŸ”— Server URL:      http://127.0.0.1:8000/mcp/                          â”‚
â”‚                                                                            â”‚
â”‚    ğŸ“š Docs:            https://gofastmcp.com                               â”‚
â”‚    ğŸš€ Deploy:          https://fastmcp.cloud                               â”‚
â”‚                                                                            â”‚
â”‚    ğŸï¸  FastMCP version: 2.10.6                                              â”‚
â”‚    ğŸ¤ MCP version:     1.12.2                                              â”‚
â”‚                                                                            â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯


[07/27/25 06:58:56] INFO     Starting MCP server                  server.py:1448
                             'AdCPBuySideV2_3_CustomAuth_Final'                 
                             with transport 'http' on                           
                             http://127.0.0.1:8000/mcp/                         
INFO:     Started server process [44545]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
Database initialized with principals and access tokens.
Database initialized with principals and access tokens.
INFO:     127.0.0.1:63056 - "POST /mcp/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63057 - "POST /mcp/ HTTP/1.1" 202 Accepted
INFO:     127.0.0.1:63058 - "GET /mcp/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63059 - "POST /mcp/ HTTP/1.1" 200 OK
Authenticated principal 'purina'
INFO:     127.0.0.1:63060 - "POST /mcp/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63061 - "DELETE /mcp/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63103 - "POST /mcp/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63104 - "POST /mcp/ HTTP/1.1" 202 Accepted
INFO:     127.0.0.1:63105 - "GET /mcp/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63106 - "POST /mcp/ HTTP/1.1" 200 OK
Authenticated principal 'purina'
INFO:     127.0.0.1:63107 - "POST /mcp/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63108 - "POST /mcp/ HTTP/1.1" 200 OK
Authenticated principal 'purina'
INFO:     127.0.0.1:63109 - "POST /mcp/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63111 - "GET /mcp/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63110 - "POST /mcp/ HTTP/1.1" 202 Accepted
INFO:     127.0.0.1:63112 - "POST /mcp/ HTTP/1.1" 200 OK
Authenticated principal 'acme_corp'
[07/27/25 06:59:19] ERROR    Error calling tool              tool_manager.py:193
                             'get_media_buy_delivery'                           
                             â•­â”€ Traceback (most recent calâ”€â•®                    
                             â”‚ /Users/brianokelley/Documen â”‚                    
                             â”‚ ts/src/adcp-buy-server/.ven â”‚                    
                             â”‚ v/lib/python3.12/site-packa â”‚                    
                             â”‚ ges/fastmcp/tools/tool_mana â”‚                    
                             â”‚ ger.py:184 in call_tool     â”‚                    
                             â”‚                             â”‚                    
                             â”‚   181 â”‚   â”‚   â”‚   â”‚   raise â”‚                    
                             â”‚   182 â”‚   â”‚   â”‚             â”‚                    
                             â”‚   183 â”‚   â”‚   â”‚   try:      â”‚                    
                             â”‚ â± 184 â”‚   â”‚   â”‚   â”‚   retur â”‚                    
                             â”‚   185 â”‚   â”‚   â”‚             â”‚                    
                             â”‚   186 â”‚   â”‚   â”‚   # raise T â”‚                    
                             â”‚   187 â”‚   â”‚   â”‚   except To â”‚                    
                             â”‚                             â”‚                    
                             â”‚ /Users/brianokelley/Documen â”‚                    
                             â”‚ ts/src/adcp-buy-server/.ven â”‚                    
                             â”‚ v/lib/python3.12/site-packa â”‚                    
                             â”‚ ges/fastmcp/tools/tool.py:2 â”‚                    
                             â”‚ 75 in run                   â”‚                    
                             â”‚                             â”‚                    
                             â”‚   272 â”‚   â”‚   â”‚   arguments â”‚                    
                             â”‚   273 â”‚   â”‚                 â”‚                    
                             â”‚   274 â”‚   â”‚   type_adapter  â”‚                    
                             â”‚ â± 275 â”‚   â”‚   result = type â”‚                    
                             â”‚   276 â”‚   â”‚                 â”‚                    
                             â”‚   277 â”‚   â”‚   if inspect.is â”‚                    
                             â”‚   278 â”‚   â”‚   â”‚   result =  â”‚                    
                             â”‚                             â”‚                    
                             â”‚ /Users/brianokelley/Documen â”‚                    
                             â”‚ ts/src/adcp-buy-server/.ven â”‚                    
                             â”‚ v/lib/python3.12/site-packa â”‚                    
                             â”‚ ges/pydantic/type_adapter.p â”‚                    
                             â”‚ y:421 in validate_python    â”‚                    
                             â”‚                             â”‚                    
                             â”‚   418 â”‚   â”‚   â”‚   â”‚   code= â”‚                    
                             â”‚   419 â”‚   â”‚   â”‚   )         â”‚                    
                             â”‚   420 â”‚   â”‚                 â”‚                    
                             â”‚ â± 421 â”‚   â”‚   return self.v â”‚                    
                             â”‚   422 â”‚   â”‚   â”‚   object,   â”‚                    
                             â”‚   423 â”‚   â”‚   â”‚   strict=st â”‚                    
                             â”‚   424 â”‚   â”‚   â”‚   from_attr â”‚                    
                             â”‚                             â”‚                    
                             â”‚ /Users/brianokelley/Documen â”‚                    
                             â”‚ ts/src/adcp-buy-server/main â”‚                    
                             â”‚ .py:112 in                  â”‚                    
                             â”‚ get_media_buy_delivery      â”‚                    
                             â”‚                             â”‚                    
                             â”‚   109                       â”‚                    
                             â”‚   110 @mcp.tool             â”‚                    
                             â”‚   111 def get_media_buy_del â”‚                    
                             â”‚       GetMediaBuyDeliveryRe â”‚                    
                             â”‚ â± 112 â”‚   _verify_principal â”‚                    
                             â”‚   113 â”‚   buy_request, _ =  â”‚                    
                             â”‚   114 â”‚   catalog = get_pro â”‚                    
                             â”‚   115 â”‚   products_in_buy = â”‚                    
                             â”‚                             â”‚                    
                             â”‚ /Users/brianokelley/Documen â”‚                    
                             â”‚ ts/src/adcp-buy-server/main â”‚                    
                             â”‚ .py:63 in _verify_principal â”‚                    
                             â”‚                             â”‚                    
                             â”‚    60 â”‚   if media_buy_id n â”‚                    
                             â”‚    61 â”‚   â”‚   raise ValueEr â”‚                    
                             â”‚    62 â”‚   if media_buys[med â”‚                    
                             â”‚ â±  63 â”‚   â”‚   raise Permiss â”‚                    
                             â”‚       '{media_buy_id}'.")   â”‚                    
                             â”‚    64                       â”‚                    
                             â”‚    65 # --- MCP Tools (Full â”‚                    
                             â”‚    66                       â”‚                    
                             â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                    
                             PermissionError: Principal                         
                             'acme_corp' does not own media                     
                             buy 'mb_865b2959'.                                 
INFO:     127.0.0.1:63113 - "DELETE /mcp/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63114 - "DELETE /mcp/ HTTP/1.1" 200 OK
