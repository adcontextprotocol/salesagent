# AdCP Sales Agent - Environment Configuration
# =============================================
#
# SETUP PATHS:
#   Path 1 (Mock/Testing):   Set [REQUIRED] variables only
#   Path 2 (GAM Local):      Set [REQUIRED] + [GAM-OAUTH] variables
#   Path 3 (Production):     See docs/deployment.md
#
# Copy this file to .env:  cp .env.template .env
# Docker Compose loads all variables from .env into containers via env_file directive.
# Just run: docker-compose up -d

# ============================================
# [REQUIRED] Essential Configuration
# ============================================

# Gemini API Key - Get free key at https://aistudio.google.com/apikey
GEMINI_API_KEY=

# Super Admin Email - Your email address for admin access
SUPER_ADMIN_EMAILS=your-email@example.com

# ============================================
# [REQUIRED] Admin UI Authentication
# ============================================
# Test Mode is enabled by default for quick start.
# Switch to OAuth for production use.

# Test Mode (default - for quick testing)
# Enables pre-configured test accounts: test_super_admin@example.com / test123
# DO NOT USE IN PRODUCTION - set to false and configure OAuth below
ADCP_AUTH_TEST_MODE=true

# --------------------------------------------
# OAuth Configuration (choose ONE option)
# --------------------------------------------

# OPTION A: Generic OIDC (works with ANY provider: Okta, Auth0, Azure AD, Keycloak, etc.)
# 1. Set ADCP_AUTH_TEST_MODE=false above
# 2. Get your provider's OIDC discovery URL (ends in /.well-known/openid-configuration)
# 3. Create an OAuth application in your provider
# 4. Add redirect URI: http://localhost:8001/auth/google/callback
# 5. Enter credentials below:
#
# OAUTH_DISCOVERY_URL=https://your-provider.com/.well-known/openid-configuration
# OAUTH_CLIENT_ID=your-client-id
# OAUTH_CLIENT_SECRET=your-client-secret
# OAUTH_SCOPES=openid email profile  # Optional, defaults to "openid email profile"

# Common discovery URLs:
#   Google:    https://accounts.google.com/.well-known/openid-configuration
#   Microsoft: https://login.microsoftonline.com/{tenant-id}/v2.0/.well-known/openid-configuration
#   Okta:      https://{your-domain}.okta.com/.well-known/openid-configuration
#   Auth0:     https://{your-tenant}.auth0.com/.well-known/openid-configuration
#   Keycloak:  https://{server}/realms/{realm}/.well-known/openid-configuration

# OPTION B: Google OAuth (simpler if you only need Google)
# 1. Set ADCP_AUTH_TEST_MODE=false above
# 2. Create OAuth client at: https://console.cloud.google.com/apis/credentials
# 3. Add redirect URI: http://localhost:8001/auth/google/callback
# 4. Enter credentials below:
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ============================================
# [GAM-OAUTH] Google Ad Manager - Path 2 Only
# ============================================
# Required ONLY if using GAM adapter with OAuth authentication
#
# IMPORTANT: These are DIFFERENT from Admin UI credentials above!
# 1. Create separate OAuth client at: https://console.cloud.google.com/apis/credentials
# 2. Add redirect URI: http://localhost:8001/tenant/callback/gam
# 3. Enter credentials below:
# 4. Restart services: docker-compose restart
#
# NOTE: Service Account authentication (recommended for production) can be
# configured via Admin UI and does NOT require these OAuth credentials.
#
GAM_OAUTH_CLIENT_ID=
GAM_OAUTH_CLIENT_SECRET=

# ============================================
# [OPTIONAL] Port Configuration
# ============================================
# Change these if you have port conflicts

POSTGRES_PORT=5432
ADCP_SALES_PORT=8080
ADMIN_UI_PORT=8001
A2A_PORT=8091

# ============================================
# [OPTIONAL] Advanced Settings
# ============================================

# Environment mode: development (strict validation) or production (lenient)
ENVIRONMENT=development

# Allowed admin domains (optional - grant access to all users from these domains)
# SUPER_ADMIN_DOMAINS=example.com

# Demo tenant creation (default: true)
# When true, creates a "Default Publisher" tenant with mock adapter on first startup
# Set to false for production deployments where you'll create tenants via signup or CLI
CREATE_DEMO_TENANT=true
