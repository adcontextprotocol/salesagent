src/adapters/gam/utils/__init__.py:45: note: In module imported here:
src/adapters/gam/utils/formatters.py: note: In function "format_targeting_for_display":
src/adapters/gam/utils/formatters.py:107:49: error: Incompatible types in assignment (expression has type "int", target has type "list[Any]")  [assignment]
src/adapters/gam/utils/formatters.py:113:49: error: Incompatible types in assignment (expression has type "int", target has type "list[Any]")  [assignment]
src/adapters/gam/utils/formatters.py:148:33: error: Incompatible types in assignment (expression has type "dict[str, str]", target has type "dict[str, list[Any]]")  [assignment]
src/adapters/gam/utils/formatters.py:161:35: error: Incompatible types in assignment (expression has type "list[str]", target has type "dict[str, list[Any]]")  [assignment]
src/adapters/gam/managers/__init__.py:21: note: In module imported here,
src/adapters/google_ad_manager.py:25: note: ... from here,
src/core/helpers/adapter_helpers.py:5: note: ... from here:
src/adapters/gam/managers/targeting.py: note: In member "validate_targeting" of class "GAMTargetingManager":
src/adapters/gam/managers/targeting.py:88:9: error: Need type annotation for "unsupported" (hint: "unsupported: list[<type>] = ...")  [var-annotated]
src/adapters/gam/managers/targeting.py: note: In member "build_targeting" of class "GAMTargetingManager":
src/adapters/gam/managers/targeting.py:137:9: error: Need type annotation for "geo_targeting" (hint: "geo_targeting: dict[<type>, <type>] = ...")  [var-annotated]
src/adapters/gam/managers/targeting.py:321:60: error: Incompatible types in assignment (expression has type "str", target has type "dict[Any, Any]")  [assignment]
src/adapters/gam_inventory_discovery.py:26: note: In module imported here,
src/admin/blueprints/gam.py:13: note: ... from here:
src/adapters/gam/utils/error_handler.py: note: In function "with_retry":
src/adapters/gam/utils/error_handler.py:282:13: error: Exception must be derived from BaseException  [misc]
src/adapters/google_ad_manager.py:161: note: In module imported here,
src/core/helpers/adapter_helpers.py:5: note: ... from here:
src/adapters/gam/utils/validation.py: note: In member "validate_media_data" of class "GAMValidator":
src/adapters/gam/utils/validation.py:111:9: error: Need type annotation for "issues" (hint: "issues: list[<type>] = ...")  [var-annotated]
src/adapters/gam/utils/validation.py: note: In member "_validate_file_extension" of class "GAMValidator":
src/adapters/gam/utils/validation.py:301:9: error: Need type annotation for "issues" (hint: "issues: list[<type>] = ...")  [var-annotated]
src/adapters/gam/utils/validation.py: note: In member "_get_creative_type_from_asset" of class "GAMValidator":
src/adapters/gam/utils/validation.py:346:21: error: Item "None" of "Any | None" has no attribute "lower"  [union-attr]
src/adapters/gam/utils/validation.py:351:22: error: Item "None" of "Any | None" has no attribute "lower"  [union-attr]
src/core/helpers/activity_helpers.py:13: note: In module imported here:
src/services/activity_feed.py: note: In member "__init__" of class "ActivityFeed":
src/services/activity_feed.py:19:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/services/activity_feed.py:21:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/core/database/database_session.py: note: In member "__init__" of class "DatabaseManager":
src/core/database/database_session.py:175:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/a2a_server/adcp_a2a_server.py:99: note: In module imported here:
src/services/protocol_webhook_service.py: note: In member "send_notification" of class "ProtocolWebhookService":
src/services/protocol_webhook_service.py:87:33: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "str")  [assignment]
src/services/protocol_webhook_service.py:97:49: error: Argument 1 to "to_bytes" has incompatible type "dict[str, str]"; expected "str | bytes"  [arg-type]
src/adapters/gam/client.py:14: note: In module imported here,
src/adapters/google_ad_manager.py:24: note: ... from here,
src/core/helpers/adapter_helpers.py:5: note: ... from here:
src/adapters/gam/utils/health_check.py: note: In class "HealthCheckResult":
src/adapters/gam/utils/health_check.py:43:27: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
src/adapters/gam/utils/health_check.py: note: In member "__init__" of class "GAMHealthChecker":
src/adapters/gam/utils/health_check.py:69:9: error: Need type annotation for "last_results" (hint: "last_results: list[<type>] = ...")  [var-annotated]
src/adapters/gam/utils/health_check.py: note: In member "check_authentication" of class "GAMHealthChecker":
src/adapters/gam/utils/health_check.py:115:31: error: "None" has no attribute "GetService"  [attr-defined]
src/adapters/gam/utils/health_check.py: note: In member "check_permissions" of class "GAMHealthChecker":
src/adapters/gam/utils/health_check.py:153:31: error: "None" has no attribute "GetService"  [attr-defined]
src/adapters/gam/utils/health_check.py:170:28: error: "None" has no attribute "GetService"  [attr-defined]
src/adapters/gam/utils/health_check.py: note: In member "check_inventory_access" of class "GAMHealthChecker":
src/adapters/gam/utils/health_check.py:276:33: error: "None" has no attribute "GetService"  [attr-defined]
src/adapters/gam/utils/health_check.py: note: In member "check_service_availability" of class "GAMHealthChecker":
src/adapters/gam/utils/health_check.py:360:21: error: "None" has no attribute "GetService"  [attr-defined]
src/adapters/gam/utils/health_check.py: note: In member "run_all_checks" of class "GAMHealthChecker":
src/adapters/gam/utils/health_check.py:433:32: error: Incompatible types in assignment (expression has type "datetime", variable has type "None")  [assignment]
src/admin/blueprints/gam.py:13: note: In module imported here:
src/adapters/gam_inventory_discovery.py: note: In function "build_ad_unit_tree":
src/adapters/gam_inventory_discovery.py:635:21: error: Item "bool" of "bool | list[dict[str, int]] | str" has no attribute "append"  [union-attr]
src/adapters/gam_inventory_discovery.py:635:21: error: Item "str" of "bool | list[dict[str, int]] | str" has no attribute "append"  [union-attr]
src/adapters/gam_inventory_discovery.py: note: In member "suggest_ad_units_for_product" of class "GAMInventoryDiscovery":
src/adapters/gam_inventory_discovery.py:757:30: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[str, object]], object]"; expected "Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
src/adapters/gam_inventory_discovery.py: note: In function "suggest_ad_units_for_product":
src/adapters/gam_inventory_discovery.py:757:40: error: Incompatible return value type (got "object", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
src/adapters/gam_inventory_discovery.py: note: In member "sync_selective" of class "GAMInventoryDiscovery":
src/adapters/gam_inventory_discovery.py:870:35: error: Incompatible types in assignment (expression has type "dict[str, int]", target has type "Sequence[str]")  [assignment]
src/adapters/gam_inventory_discovery.py:880:37: error: Incompatible types in assignment (expression has type "dict[str, int]", target has type "Sequence[str]")  [assignment]
src/adapters/gam_inventory_discovery.py:889:33: error: Incompatible types in assignment (expression has type "dict[str, int]", target has type "Sequence[str]")  [assignment]
src/adapters/gam_inventory_discovery.py:896:43: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "Sequence[str]")  [assignment]
src/adapters/gam_inventory_discovery.py:903:17: error: Unsupported target for indexed assignment ("Sequence[str]")  [index]
src/adapters/gam_inventory_discovery.py:909:44: error: Incompatible types in assignment (expression has type "dict[str, int]", target has type "Sequence[str]")  [assignment]
src/adapters/gam_inventory_discovery.py:915:17: error: Unsupported target for indexed assignment ("Sequence[str]")  [index]
src/adapters/gam_inventory_discovery.py:918:39: error: Incompatible types in assignment (expression has type "float", target has type "Sequence[str]")  [assignment]
src/adapters/mock_ad_server.py:355: note: In module imported here,
src/core/helpers/adapter_helpers.py:7: note: ... from here:
src/adapters/ai_test_orchestrator.py: note: In class "TestScenario":
src/adapters/ai_test_orchestrator.py:35:36: error: Incompatible types in assignment (expression has type "None", variable has type "list[dict[Any, Any]]")  [assignment]
src/adapters/google_ad_manager.py:24: note: In module imported here,
src/core/helpers/adapter_helpers.py:5: note: ... from here:
src/adapters/gam/client.py: note: In member "from_existing_client" of class "GAMClientManager":
src/adapters/gam/client.py:201:32: error: Incompatible types in assignment (expression has type "None", variable has type "GAMAuthManager")  [assignment]
src/core/tools/media_buy_create.py:818: note: In module imported here:
src/services/targeting_capabilities.py:60:24: error: Unexpected keyword argument "aee_signal" for "TargetingCapability"; did you mean "axe_signal"?  [call-arg]
src/core/schemas.py: note: "TargetingCapability" defined here
src/services/targeting_capabilities.py:66:20: error: Unexpected keyword argument "aee_signal" for "TargetingCapability"; did you mean "axe_signal"?  [call-arg]
src/services/targeting_capabilities.py:69:18: error: Unexpected keyword argument "aee_signal" for "TargetingCapability"; did you mean "axe_signal"?  [call-arg]
src/services/targeting_capabilities.py:72:20: error: Unexpected keyword argument "aee_signal" for "TargetingCapability"; did you mean "axe_signal"?  [call-arg]
src/services/targeting_capabilities.py: note: In function "get_aee_signal_dimensions":
src/services/targeting_capabilities.py:92:69: error: "TargetingCapability" has no attribute "aee_signal"; maybe "axe_signal"?  [attr-defined]
src/core/schema_validation.py: note: In class "SchemaMetadata":
src/core/schema_validation.py:18:23: error: Incompatible types in assignment (expression has type "None", variable has type "str")  [assignment]
src/core/schema_validation.py:21:26: error: Incompatible types in assignment (expression has type "None", variable has type "str")  [assignment]
src/core/schema_validation.py: note: In class "ResponseWithSchema":
src/core/schema_validation.py:28:20: error: Extra key "exclude" for TypedDict "ConfigDict"  [typeddict-unknown-key]
src/core/schema_validation.py:36:31: error: Incompatible types in assignment (expression has type "None", variable has type "SchemaMetadata")  [assignment]
src/core/schema_validation.py: note: In function "create_schema_registry":
src/core/schema_validation.py:216:57: error: Argument 1 to "get_model_schema" has incompatible type "ModelMetaclass"; expected "type[BaseModel]"  [arg-type]
src/core/helpers/creative_helpers.py: note: In function "_convert_creative_to_adapter_asset":
src/core/helpers/creative_helpers.py:135:39: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "Sequence[str]")  [assignment]
src/core/helpers/creative_helpers.py:152:26: error: Incompatible types in assignment (expression has type "int", target has type "Sequence[str]")  [assignment]
src/core/helpers/creative_helpers.py:154:27: error: Incompatible types in assignment (expression has type "int", target has type "Sequence[str]")  [assignment]
src/core/helpers/creative_helpers.py:156:29: error: Incompatible types in assignment (expression has type "float", target has type "Sequence[str]")  [assignment]
src/core/helpers/creative_helpers.py:161:38: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "Sequence[str]")  [assignment]
src/adapters/gam/managers/__init__.py:17: note: In module imported here,
src/adapters/google_ad_manager.py:25: note: ... from here,
src/core/helpers/adapter_helpers.py:5: note: ... from here:
src/adapters/gam/managers/inventory.py: note: In member "_get_discovery" of class "GAMInventoryManager":
src/adapters/gam/managers/inventory.py:56:35: error: Incompatible types in assignment (expression has type "MockGAMInventoryDiscovery", variable has type "None")  [assignment]
src/adapters/gam/managers/inventory.py:59:35: error: Incompatible types in assignment (expression has type "GAMInventoryDiscovery", variable has type "None")  [assignment]
src/adapters/gam/managers/inventory.py:60:16: error: Incompatible return value type (got "None", expected "GAMInventoryDiscovery")  [return-value]
src/adapters/gam/managers/inventory.py: note: In member "__init__" of class "MockGAMInventoryDiscovery":
src/adapters/gam/managers/inventory.py:340:9: error: Need type annotation for "ad_units" (hint: "ad_units: dict[<type>, <type>] = ...")  [var-annotated]
src/adapters/gam/managers/inventory.py:341:9: error: Need type annotation for "placements" (hint: "placements: dict[<type>, <type>] = ...")  [var-annotated]
src/adapters/gam/managers/inventory.py:342:9: error: Need type annotation for "labels" (hint: "labels: dict[<type>, <type>] = ...")  [var-annotated]
src/adapters/gam/managers/inventory.py:343:9: error: Need type annotation for "custom_targeting_keys" (hint: "custom_targeting_keys: dict[<type>, <type>] = ...")  [var-annotated]
src/adapters/gam/managers/inventory.py:344:9: error: Need type annotation for "custom_targeting_values" (hint: "custom_targeting_values: dict[<type>, <type>] = ...")  [var-annotated]
src/adapters/gam/managers/inventory.py:345:9: error: Need type annotation for "audience_segments" (hint: "audience_segments: dict[<type>, <type>] = ...")  [var-annotated]
src/core/main.py:13: note: In module imported here:
src/adapters/mock_creative_engine.py: note: In member "process_creatives" of class "MockCreativeEngine":
src/adapters/mock_creative_engine.py:88:28: error: Argument "status" to "CreativeStatus" has incompatible type "str"; expected "Literal['pending_review', 'approved', 'rejected', 'adaptation_required']"  [arg-type]
src/adapters/gam_reporting_api.py:18: note: In module imported here,
src/admin/app.py:319: note: ... from here:
scripts/ops/gam_helper.py: note: In function "get_gam_network_info":
scripts/ops/gam_helper.py:141:27: error: Item "None" of "Any | None" has no attribute "GetService"  [union-attr]
scripts/ops/gam_helper.py: note: In function "get_gam_config_for_tenant":
scripts/ops/gam_helper.py:217:27: error: "AdapterConfig" has no attribute "gam_company_id"  [attr-defined]
src/services/delivery_simulator.py:17: note: In module imported here,
src/core/startup.py:32: note: ... from here:
src/services/webhook_delivery_service.py: note: In member "__init__" of class "WebhookDeliveryService":
src/services/webhook_delivery_service.py:187:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/services/webhook_delivery_service.py:189:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/services/webhook_delivery_service.py:190:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/services/webhook_delivery_service.py: note: In member "send_delivery_webhook" of class "WebhookDeliveryService":
src/services/webhook_delivery_service.py:284:22: error: Value of type "object" is not indexable  [index]
src/admin/blueprints/gam.py:714: note: In module imported here:
src/services/gcp_service_account_service.py: note: In member "test_connection" of class "GCPServiceAccountService":
src/services/gcp_service_account_service.py:367:13: error: "object" has no attribute "append"  [attr-defined]
src/admin/blueprints/authorized_properties.py:23: note: In module imported here:
src/services/property_verification_service.py: note: In member "_identifiers_match" of class "PropertyVerificationService":
src/services/property_verification_service.py:198:78: error: Argument 1 to "_identifier_values_match" of "PropertyVerificationService" has incompatible type "str | None"; expected "str"  [arg-type]
src/services/property_verification_service.py:198:90: error: Argument 2 to "_identifier_values_match" of "PropertyVerificationService" has incompatible type "str | None"; expected "str"  [arg-type]
src/services/property_verification_service.py:198:103: error: Argument 3 to "_identifier_values_match" of "PropertyVerificationService" has incompatible type "str | None"; expected "str"  [arg-type]
src/services/property_verification_service.py: note: In member "_update_verification_status" of class "PropertyVerificationService":
src/services/property_verification_service.py:305:48: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/property_verification_service.py:307:35: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime] | DateTime")  [assignment]
src/services/property_verification_service.py: note: In member "verify_all_properties" of class "PropertyVerificationService":
src/services/property_verification_service.py:337:29: error: Unsupported operand types for + ("object" and "int")  [operator]
src/services/property_verification_service.py:339:29: error: Unsupported operand types for + ("object" and "int")  [operator]
src/services/property_verification_service.py:341:33: error: "object" has no attribute "append"  [attr-defined]
src/services/property_verification_service.py:344:25: error: Unsupported operand types for + ("object" and "int")  [operator]
src/services/property_verification_service.py:345:25: error: "object" has no attribute "append"  [attr-defined]
src/services/property_verification_service.py:350:13: error: "object" has no attribute "append"  [attr-defined]
src/core/tools/products.py:307: note: In module imported here:
src/services/dynamic_pricing_service.py: note: In member "_calculate_product_pricing" of class "DynamicPricingService":
src/services/dynamic_pricing_service.py:156:24: error: Unsupported left operand type for - ("Date")  [operator]
src/core/tools/media_buy_create.py:280: note: In module imported here:
src/services/setup_checklist_service.py: note: In member "_check_critical_tasks" of class "SetupChecklistService":
src/services/setup_checklist_service.py:114:30: error: "Tenant" has no attribute "gam_config"  [attr-defined]
src/services/setup_checklist_service.py:240:35: error: Argument 1 to "len" has incompatible type "list[str] | None"; expected "Sized"  [arg-type]
src/services/setup_checklist_service.py:242:35: error: Argument 1 to "len" has incompatible type "list[str] | None"; expected "Sized"  [arg-type]
src/admin/services/media_buy_readiness_service.py: note: In member "get_readiness_state" of class "MediaBuyReadinessService":
src/admin/services/media_buy_readiness_service.py:69:24: error: Missing keys ("gam_order_status", "gam_line_items_total", "gam_line_items_ready") for TypedDict "ReadinessDetails"  [typeddict-item]
src/admin/services/media_buy_readiness_service.py:84:24: error: Missing keys ("gam_order_status", "gam_line_items_total", "gam_line_items_ready") for TypedDict "ReadinessDetails"  [typeddict-item]
src/admin/services/media_buy_readiness_service.py:103:20: error: Incompatible types in assignment (expression has type "Select[tuple[CreativeAssignment]]", variable has type "Select[tuple[MediaBuy]]")  [assignment]
src/admin/services/media_buy_readiness_service.py:107:42: error: "MediaBuy" has no attribute "package_id"  [attr-defined]
src/admin/services/media_buy_readiness_service.py:111:34: error: "MediaBuy" has no attribute "creative_id"  [attr-defined]
src/admin/services/media_buy_readiness_service.py:115:13: error: Need type annotation for "creatives" (hint: "creatives: list[<type>] = ...")  [var-annotated]
src/admin/services/media_buy_readiness_service.py:117:24: error: Incompatible types in assignment (expression has type "Select[tuple[Creative]]", variable has type "Select[tuple[MediaBuy]]")  [assignment]
src/admin/services/media_buy_readiness_service.py:118:29: error: Incompatible types in assignment (expression has type "Sequence[MediaBuy]", variable has type "list[Any]")  [assignment]
src/admin/services/media_buy_readiness_service.py:120:38: error: Generator has incompatible item type "int"; expected "bool"  [misc]
src/admin/services/media_buy_readiness_service.py:121:37: error: Generator has incompatible item type "int"; expected "bool"  [misc]
src/admin/services/media_buy_readiness_service.py:122:38: error: Generator has incompatible item type "int"; expected "bool"  [misc]
src/admin/services/media_buy_readiness_service.py:151:20: error: Incompatible types in assignment (expression has type "Select[tuple[Tenant]]", variable has type "Select[tuple[MediaBuy]]")  [assignment]
src/admin/services/media_buy_readiness_service.py:153:27: error: "MediaBuy" has no attribute "ad_server"  [attr-defined]
src/admin/services/media_buy_readiness_service.py:155:24: error: Incompatible types in assignment (expression has type "Select[tuple[GAMOrder]]", variable has type "Select[tuple[MediaBuy]]")  [assignment]
src/admin/services/media_buy_readiness_service.py:167:28: error: Incompatible types in assignment (expression has type "Select[tuple[GAMLineItem]]", variable has type "Select[tuple[MediaBuy]]")  [assignment]
src/admin/services/media_buy_readiness_service.py: note: In member "_compute_state" of class "MediaBuyReadinessService":
src/admin/services/media_buy_readiness_service.py:260:41: error: "DateTime" has no attribute "tzinfo"  [attr-defined]
src/admin/services/media_buy_readiness_service.py:260:74: error: "DateTime" has no attribute "replace"  [attr-defined]
src/admin/services/media_buy_readiness_service.py:263:43: error: Argument 1 to "combine" of "datetime" has incompatible type "Date"; expected "date"  [arg-type]
src/admin/services/media_buy_readiness_service.py:266:46: error: "DateTime" has no attribute "tzinfo"  [attr-defined]
src/admin/services/media_buy_readiness_service.py:266:77: error: "DateTime" has no attribute "replace"  [attr-defined]
src/admin/services/media_buy_readiness_service.py:268:41: error: Argument 1 to "combine" of "datetime" has incompatible type "Date"; expected "date"  [arg-type]
src/admin/services/media_buy_readiness_service.py:271:12: error: Unsupported operand types for > ("datetime" and "DateTime")  [operator]
src/admin/services/media_buy_readiness_service.py:271:12: note: Right operand is of type "DateTime | Any"
src/admin/services/media_buy_readiness_service.py:278:12: error: Unsupported operand types for >= ("datetime" and "DateTime")  [operator]
src/admin/services/media_buy_readiness_service.py:278:12: note: Right operand is of type "DateTime | Any"
src/admin/services/media_buy_readiness_service.py:278:34: error: Unsupported operand types for <= ("datetime" and "DateTime")  [operator]
src/admin/services/media_buy_readiness_service.py:282:12: error: Unsupported operand types for < ("datetime" and "DateTime")  [operator]
src/admin/services/media_buy_readiness_service.py:282:12: note: Right operand is of type "DateTime | Any"
src/admin/services/business_activity_service.py: note: In function "get_business_activities":
src/admin/services/business_activity_service.py:119:37: error: Value of type "object" is not indexable  [index]
src/admin/services/business_activity_service.py:243:25: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[str, object]], object]"; expected "Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
src/admin/services/business_activity_service.py:243:35: error: Incompatible return value type (got "object", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
src/admin/services/business_activity_service.py:249:12: error: "object" has no attribute "tzinfo"  [attr-defined]
src/admin/services/business_activity_service.py:250:25: error: "object" has no attribute "replace"  [attr-defined]
src/admin/services/business_activity_service.py:252:17: error: No overload variant of "__sub__" of "datetime" matches argument type "object"  [operator]
src/admin/services/business_activity_service.py:252:17: note: Possible overload variants:
src/admin/services/business_activity_service.py:252:17: note:     def __sub__(self, datetime, /) -> timedelta
src/admin/services/business_activity_service.py:252:17: note:     def __sub__(self, timedelta, /) -> datetime
src/adapters/gam/managers/__init__.py:22: note: In module imported here,
src/adapters/google_ad_manager.py:25: note: ... from here,
src/core/helpers/adapter_helpers.py:5: note: ... from here:
src/adapters/gam/managers/workflow.py: note: In member "create_manual_order_workflow_step" of class "GAMWorkflowManager":
src/adapters/gam/managers/workflow.py:210:27: error: Incompatible types in assignment (expression has type "Context", variable has type "dict[Any, Any]")  [assignment]
product_catalog_providers/factory.py:7: note: In module imported here,
src/core/tools/products.py:17: note: ... from here:
product_catalog_providers/database.py: note: In member "get_products" of class "DatabaseProductCatalog":
product_catalog_providers/database.py:160:53: error: Incompatible types in assignment (expression has type "float", target has type "bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None")  [assignment]
product_catalog_providers/database.py:160:59: error: Argument 1 to "float" has incompatible type "bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
product_catalog_providers/database.py:171:47: error: Incompatible types in assignment (expression has type "float", target has type "bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None")  [assignment]
product_catalog_providers/database.py:171:53: error: Argument 1 to "float" has incompatible type "bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "str"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "list[FormatId | FormatReference] | list[str]"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "Literal['guaranteed', 'non_guaranteed']"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "list[PricingOption]"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "float | None"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "Measurement | None"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "CreativePolicy | None"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "bool"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "str | None"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "datetime | None"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "dict[str, Any] | None"  [arg-type]
product_catalog_providers/database.py:182:51: note: "dict" is invariant -- see https://mypy.readthedocs.io/en/stable/common_issues.html#variance
product_catalog_providers/database.py:182:51: note: Consider using "Mapping" instead, which is covariant in the value type
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "list[Property] | None"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "list[str] | None"  [arg-type]
product_catalog_providers/database.py:182:51: error: Argument 1 to "Product" has incompatible type "**dict[str, bool | list[PricingOption] | list[dict[str, str]] | str | list[str] | list[dict[Any, Any]] | None]"; expected "int | None"  [arg-type]
product_catalog_providers/factory.py:5: note: In module imported here,
src/core/tools/products.py:17: note: ... from here:
product_catalog_providers/ai.py: note: In member "_get_all_products" of class "AIProductCatalog":
product_catalog_providers/ai.py:106:40: error: "Product" has no attribute "min_spend"  [attr-defined]
product_catalog_providers/ai.py: note: In member "_analyze_products_with_ai" of class "AIProductCatalog":
product_catalog_providers/ai.py:154:35: error: "Product" has no attribute "is_fixed_price"  [attr-defined]
product_catalog_providers/ai.py:155:24: error: "Product" has no attribute "cpm"  [attr-defined]
product_catalog_providers/ai.py:156:30: error: "Product" has no attribute "min_spend"  [attr-defined]
product_catalog_providers/ai.py:241:37: error: "Product" has no attribute "ai_reasoning"  [attr-defined]
product_catalog_providers/ai.py:242:37: error: "Product" has no attribute "ai_score"  [attr-defined]
src/admin/app.py:319: note: In module imported here:
src/adapters/gam_reporting_api.py: note: In function "get_gam_reporting":
src/adapters/gam_reporting_api.py:182:24: error: Argument "date_range" to "get_reporting_data" of "GAMReportingService" has incompatible type "str"; expected "Literal['lifetime', 'this_month', 'today']"  [arg-type]
src/adapters/gam_reporting_api.py: note: In function "get_advertiser_summary":
src/adapters/gam_reporting_api.py:263:53: error: Argument "date_range" to "get_advertiser_summary" of "GAMReportingService" has incompatible type "str"; expected "Literal['lifetime', 'this_month', 'today']"  [arg-type]
src/adapters/gam_reporting_api.py: note: In function "get_principal_reporting":
src/adapters/gam_reporting_api.py:341:20: error: Incompatible types in assignment (expression has type "Select[tuple[AdapterConfig]]", variable has type "Select[tuple[Principal]]")  [assignment]
src/adapters/gam_reporting_api.py:357:24: error: Argument "date_range" to "get_reporting_data" of "GAMReportingService" has incompatible type "str"; expected "Literal['lifetime', 'this_month', 'today']"  [arg-type]
src/adapters/gam_reporting_api.py: note: In function "get_country_breakdown":
src/adapters/gam_reporting_api.py:458:24: error: Argument "date_range" to "get_country_breakdown" of "GAMReportingService" has incompatible type "str"; expected "Literal['lifetime', 'this_month', 'today']"  [arg-type]
src/adapters/gam_reporting_api.py: note: In function "get_ad_unit_breakdown":
src/adapters/gam_reporting_api.py:545:24: error: Argument "date_range" to "get_ad_unit_breakdown" of "GAMReportingService" has incompatible type "str"; expected "Literal['lifetime', 'this_month', 'today']"  [arg-type]
src/adapters/gam_reporting_api.py: note: In function "get_principal_summary":
src/adapters/gam_reporting_api.py:615:20: error: Incompatible types in assignment (expression has type "Select[tuple[AdapterConfig]]", variable has type "Select[tuple[Principal]]")  [assignment]
src/adapters/gam_reporting_api.py:631:53: error: Argument "date_range" to "get_advertiser_summary" of "GAMReportingService" has incompatible type "str"; expected "Literal['lifetime', 'this_month', 'today']"  [arg-type]
src/core/startup.py:32: note: In module imported here:
src/services/delivery_simulator.py: note: In member "__init__" of class "DeliverySimulator":
src/services/delivery_simulator.py:32:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/services/delivery_simulator.py:33:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/core/tools/creatives.py:1289: note: In module imported here:
src/services/slack_notifier.py: note: In member "send_message" of class "SlackNotifier":
src/services/slack_notifier.py:86:33: error: Incompatible types in assignment (expression has type "list[dict[str, Any]]", target has type "str")  [assignment]
src/services/slack_notifier.py:92:25: error: Argument "webhook_url" to "WebhookDelivery" has incompatible type "str | Any | None"; expected "str"  [arg-type]
src/services/slack_notifier.py: note: In member "notify_new_task" of class "SlackNotifier":
src/services/slack_notifier.py:200:49: error: Argument 2 to "send_message" of "SlackNotifier" has incompatible type "list[object]"; expected "list[dict[str, Any]] | None"  [arg-type]
src/services/slack_notifier.py: note: In member "notify_task_completed" of class "SlackNotifier":
src/services/slack_notifier.py:251:49: error: Argument 2 to "send_message" of "SlackNotifier" has incompatible type "list[object]"; expected "list[dict[str, Any]] | None"  [arg-type]
src/services/slack_notifier.py: note: In member "notify_creative_pending" of class "SlackNotifier":
src/services/slack_notifier.py:289:13: error: Value of type "object" is not indexable  [index]
src/services/slack_notifier.py:335:49: error: Argument 2 to "send_message" of "SlackNotifier" has incompatible type "list[object]"; expected "list[dict[str, Any]] | None"  [arg-type]
src/services/slack_notifier.py: note: In member "notify_audit_log" of class "SlackNotifier":
src/services/slack_notifier.py:395:43: error: Dict entry 1 has incompatible type "str": "list[dict[str, str]]"; expected "str": "Collection[str]"  [dict-item]
src/services/slack_notifier.py:415:21: error: List item 0 has incompatible type "dict[str, str]"; expected "str"  [list-item]
src/services/slack_notifier.py:432:25: error: Argument "webhook_url" to "WebhookDelivery" has incompatible type "str | Any | None"; expected "str"  [arg-type]
src/services/slack_notifier.py: note: In member "_format_details" of class "SlackNotifier":
src/services/slack_notifier.py:478:16: error: Incompatible return value type (got "str | None", expected "str")  [return-value]
src/services/slack_notifier.py: note: In member "_format_audit_details" of class "SlackNotifier":
src/services/slack_notifier.py:511:16: error: Incompatible return value type (got "str | None", expected "str")  [return-value]
src/services/slack_notifier.py: note: In member "notify_media_buy_event" of class "SlackNotifier":
src/services/slack_notifier.py:693:38: error: Incompatible types in assignment (expression has type "list[dict[str, Sequence[object]]]", target has type "str")  [assignment]
src/services/slack_notifier.py:695:33: error: Incompatible types in assignment (expression has type "list[object]", target has type "str")  [assignment]
src/services/slack_notifier.py:701:25: error: Argument "webhook_url" to "WebhookDelivery" has incompatible type "str | Any | None"; expected "str"  [arg-type]
src/admin/services/dashboard_service.py: note: In member "get_tenant" of class "DashboardService":
src/admin/services/dashboard_service.py:39:32: error: Incompatible types in assignment (expression has type "Tenant | None", variable has type "None")  [assignment]
src/admin/services/dashboard_service.py: note: In member "get_dashboard_metrics" of class "DashboardService":
src/admin/services/dashboard_service.py:42:50: error: Function "builtins.any" is not valid as a type  [valid-type]
src/admin/services/dashboard_service.py:42:50: note: Perhaps you meant "typing.Any" instead of "any"?
src/admin/services/dashboard_service.py: note: In member "get_recent_media_buys" of class "DashboardService":
src/admin/services/dashboard_service.py:150:21: error: "MediaBuy" has no attribute "spend"  [attr-defined]
src/admin/services/dashboard_service.py:153:21: error: "MediaBuy" has no attribute "created_at_relative"  [attr-defined]
src/admin/services/dashboard_service.py:162:21: error: "MediaBuy" has no attribute "readiness_state"  [attr-defined]
src/admin/services/dashboard_service.py:163:21: error: "MediaBuy" has no attribute "is_ready"  [attr-defined]
src/admin/services/dashboard_service.py:164:21: error: "MediaBuy" has no attribute "readiness_details"  [attr-defined]
src/admin/services/dashboard_service.py:166:24: error: Incompatible return value type (got "Sequence[MediaBuy]", expected "list[MediaBuy]")  [return-value]
src/admin/services/dashboard_service.py: note: In member "_calculate_revenue_trend" of class "DashboardService":
src/admin/services/dashboard_service.py:175:86: error: Function "builtins.any" is not valid as a type  [valid-type]
src/admin/services/dashboard_service.py:175:86: note: Perhaps you meant "typing.Any" instead of "any"?
src/admin/services/dashboard_service.py: note: In member "_calculate_revenue_change" of class "DashboardService":
src/admin/services/dashboard_service.py:206:70: error: Function "builtins.any" is not valid as a type  [valid-type]
src/admin/services/dashboard_service.py:206:70: note: Perhaps you meant "typing.Any" instead of "any"?
src/admin/services/dashboard_service.py: note: In member "get_chart_data" of class "DashboardService":
src/admin/services/dashboard_service.py:299:47: error: any? has no attribute "__iter__" (not iterable)  [attr-defined]
src/admin/services/dashboard_service.py: note: In member "health_check" of class "DashboardService":
src/admin/services/dashboard_service.py:302:37: error: Function "builtins.any" is not valid as a type  [valid-type]
src/admin/services/dashboard_service.py:302:37: note: Perhaps you meant "typing.Any" instead of "any"?
src/admin/services/dashboard_service.py:307:17: error: No overload variant of "execute" of "Session" matches argument type "str"  [call-overload]
src/admin/services/dashboard_service.py:307:17: note: Possible overload variants:
src/admin/services/dashboard_service.py:307:17: note:     def [_T: Any] execute(self, statement: TypedReturnsRows[_T], params: Sequence[Mapping[str, Any]] | Mapping[str, Any] | None = ..., *, execution_options: _OrmKnownExecutionOptions | Mapping[str, Any] = ..., bind_arguments: dict[str, Any] | None = ..., _parent_execute_state: Any | None = ..., _add_event: Any | None = ...) -> Result[_T]
src/admin/services/dashboard_service.py:307:17: note:     def execute(self, statement: UpdateBase, params: Sequence[Mapping[str, Any]] | Mapping[str, Any] | None = ..., *, execution_options: _OrmKnownExecutionOptions | Mapping[str, Any] = ..., bind_arguments: dict[str, Any] | None = ..., _parent_execute_state: Any | None = ..., _add_event: Any | None = ...) -> CursorResult[Any]
src/admin/services/dashboard_service.py:307:17: note:     def execute(self, statement: Executable, params: Sequence[Mapping[str, Any]] | Mapping[str, Any] | None = ..., *, execution_options: _OrmKnownExecutionOptions | Mapping[str, Any] = ..., bind_arguments: dict[str, Any] | None = ..., _parent_execute_state: Any | None = ..., _add_event: Any | None = ...) -> Result[Any]
src/core/audit_logger.py: note: In member "log_operation" of class "AuditLogger":
src/core/audit_logger.py:210:17: error: Module "src.core.utils.tenant_utils" has no attribute "tenant_to_dict"  [attr-defined]
src/core/audit_logger.py: note: In member "log_security_violation" of class "AuditLogger":
src/core/audit_logger.py:281:13: error: Module "src.core.utils.tenant_utils" has no attribute "tenant_to_dict"  [attr-defined]
src/core/helpers/adapter_helpers.py:8: note: In module imported here:
src/adapters/triton_digital.py: note: In member "create_media_buy" of class "TritonDigital":
src/adapters/triton_digital.py:146:20: error: Missing named argument "media_buy_id" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:146:20: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:148:25: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/triton_digital.py: note: In member "check_media_buy_status" of class "TritonDigital":
src/adapters/triton_digital.py:367:20: error: Missing named argument "buyer_ref" for "CheckMediaBuyStatusResponse"  [call-arg]
src/adapters/triton_digital.py:385:24: error: Missing named argument "buyer_ref" for "CheckMediaBuyStatusResponse"  [call-arg]
src/adapters/triton_digital.py:389:24: error: Missing named argument "buyer_ref" for "CheckMediaBuyStatusResponse"  [call-arg]
src/adapters/triton_digital.py: note: In member "get_media_buy_delivery" of class "TritonDigital":
src/adapters/triton_digital.py:405:43: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/triton_digital.py:406:41: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/triton_digital.py:413:29: error: No overload variant of "__sub__" of "date" matches argument type "str"  [operator]
src/adapters/triton_digital.py:413:29: note: Possible overload variants:
src/adapters/triton_digital.py:413:29: note:     def __sub__(self, datetime, /) -> Never
src/adapters/triton_digital.py:413:29: note:     def __sub__(self, date, /) -> timedelta
src/adapters/triton_digital.py:413:29: note:     def __sub__(self, timedelta, /) -> date
src/adapters/triton_digital.py:434:30: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/triton_digital.py:435:28: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/triton_digital.py:481:39: error: Missing named argument "buyer_ref" for "PackageDelivery"  [call-arg]
src/adapters/triton_digital.py:481:39: error: Missing named argument "clicks" for "PackageDelivery"  [call-arg]
src/adapters/triton_digital.py:481:39: error: Missing named argument "video_completions" for "PackageDelivery"  [call-arg]
src/adapters/triton_digital.py:481:39: error: Missing named argument "pacing_index" for "PackageDelivery"  [call-arg]
src/adapters/triton_digital.py:494:32: error: Argument "by_package" to "AdapterGetMediaBuyDeliveryResponse" has incompatible type "list[PackageDelivery]"; expected "list[AdapterPackageDelivery]"  [arg-type]
src/adapters/triton_digital.py: note: In member "update_media_buy" of class "TritonDigital":
src/adapters/triton_digital.py:538:20: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:542:21: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/triton_digital.py:580:20: error: Missing named argument "errors" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:607:32: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:610:37: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/triton_digital.py:634:32: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:637:37: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/triton_digital.py:648:39: error: Dict entry 0 has incompatible type "str": "dict[str, object]"; expected "str": "bool"  [dict-item]
src/adapters/triton_digital.py:654:24: error: Missing named argument "errors" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:662:24: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/triton_digital.py:665:29: error: Missing named argument "details" for "Error"  [call-arg]
src/core/helpers/adapter_helpers.py:6: note: In module imported here:
src/adapters/kevel.py: note: In member "create_media_buy" of class "Kevel":
src/adapters/kevel.py:273:37: error: Argument 1 to "int" has incompatible type "str | None"; expected "str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc"  [arg-type]
src/adapters/kevel.py: note: In member "check_media_buy_status" of class "Kevel":
src/adapters/kevel.py:479:20: error: Missing named argument "buyer_ref" for "CheckMediaBuyStatusResponse"  [call-arg]
src/adapters/kevel.py:482:20: error: Missing named argument "buyer_ref" for "CheckMediaBuyStatusResponse"  [call-arg]
src/adapters/kevel.py: note: In member "get_media_buy_delivery" of class "Kevel":
src/adapters/kevel.py:497:43: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/kevel.py:498:41: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/kevel.py:504:29: error: No overload variant of "__sub__" of "date" matches argument type "str"  [operator]
src/adapters/kevel.py:504:29: note: Possible overload variants:
src/adapters/kevel.py:504:29: note:     def __sub__(self, datetime, /) -> Never
src/adapters/kevel.py:504:29: note:     def __sub__(self, date, /) -> timedelta
src/adapters/kevel.py:504:29: note:     def __sub__(self, timedelta, /) -> date
src/adapters/kevel.py:525:30: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/kevel.py:526:28: error: "str" has no attribute "isoformat"  [attr-defined]
src/adapters/kevel.py: note: In member "update_media_buy" of class "Kevel":
src/adapters/kevel.py:601:20: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/kevel.py:605:21: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/kevel.py:643:20: error: Missing named argument "errors" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/kevel.py:671:32: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/kevel.py:674:37: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/kevel.py:698:32: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/kevel.py:701:37: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/kevel.py:713:39: error: Dict entry 0 has incompatible type "str": "int"; expected "str": "bool"  [dict-item]
src/adapters/kevel.py:719:24: error: Missing named argument "errors" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/kevel.py:727:24: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/kevel.py:730:29: error: Missing named argument "details" for "Error"  [call-arg]
src/admin/tests/unit/test_utils.py:5:1: error: Module "src.admin.utils" has no attribute "get_tenant_config_from_db"  [attr-defined]
src/admin/tests/unit/test_utils.py:5:1: error: Module "src.admin.utils" has no attribute "parse_json_config"  [attr-defined]
src/admin/tests/unit/test_utils.py:5:1: error: Module "src.admin.utils" has no attribute "require_auth"  [attr-defined]
src/admin/tests/unit/test_utils.py:5:1: error: Module "src.admin.utils" has no attribute "validate_gam_network_response"  [attr-defined]
src/admin/tests/unit/test_utils.py:5:1: error: Module "src.admin.utils" has no attribute "validate_gam_user_response"  [attr-defined]
src/admin/blueprints/workflows.py:11:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/admin/blueprints/users.py:9:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/admin/blueprints/tenants.py:20:1: error: Module "src.admin.utils" has no attribute "get_tenant_config_from_db"  [attr-defined]
src/admin/blueprints/tenants.py:20:1: error: Module "src.admin.utils" has no attribute "require_auth"  [attr-defined]
src/admin/blueprints/tenants.py:20:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/admin/blueprints/policy.py:9:1: error: Module "src.admin.utils" has no attribute "get_tenant_config_from_db"  [attr-defined]
src/admin/blueprints/policy.py:9:1: error: Module "src.admin.utils" has no attribute "require_auth"  [attr-defined]
src/admin/blueprints/operations.py:8:1: error: Module "src.admin.utils" has no attribute "require_auth"  [attr-defined]
src/admin/blueprints/operations.py:8:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/admin/blueprints/mcp_test.py:7:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/admin/blueprints/gam.py:15:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/admin/blueprints/creatives.py:28:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/admin/blueprints/creatives.py: note: In function "_cleanup_completed_tasks":
src/admin/blueprints/creatives.py:43:1: error: Need type annotation for "_ai_review_tasks" (hint: "_ai_review_tasks: dict[<type>, <type>] = ...")  [var-annotated]
src/admin/blueprints/creatives.py: note: In function "_call_webhook_for_creative_status":
src/admin/blueprints/creatives.py:89:40: error: Incompatible types in assignment (expression has type "dict[Any, Any]", target has type "str")  [assignment]
src/admin/blueprints/core.py:13:1: error: Module "src.admin.utils" has no attribute "require_auth"  [attr-defined]
src/admin/blueprints/authorized_properties.py:13:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/admin/blueprints/authorized_properties.py: note: In function "_validate_property_form":
src/admin/blueprints/authorized_properties.py:43:16: error: Incompatible return value type (got "tuple[bool, str, None]", expected "tuple[bool, str, tuple[str, str, str, list[dict[str, str]], list[str]]]")  [return-value]
src/admin/blueprints/authorized_properties.py:47:16: error: Incompatible return value type (got "tuple[bool, str, None]", expected "tuple[bool, str, tuple[str, str, str, list[dict[str, str]], list[str]]]")  [return-value]
src/admin/blueprints/authorized_properties.py:68:20: error: Incompatible return value type (got "tuple[bool, str, None]", expected "tuple[bool, str, tuple[str, str, str, list[dict[str, str]], list[str]]]")  [return-value]
src/admin/blueprints/authorized_properties.py:73:16: error: Incompatible return value type (got "tuple[bool, str, None]", expected "tuple[bool, str, tuple[str, str, str, list[dict[str, str]], list[str]]]")  [return-value]
src/admin/blueprints/authorized_properties.py: note: In function "_save_properties_batch":
src/admin/blueprints/authorized_properties.py:166:52: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime] | DateTime")  [assignment]
src/admin/blueprints/auth.py:11:1: error: Module "src.admin.utils" has no attribute "is_super_admin"  [attr-defined]
src/admin/blueprints/adapters.py:9:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/admin/blueprints/activity_stream.py:11:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/admin/blueprints/activity_stream.py: note: In function "activity_events":
src/admin/blueprints/activity_stream.py:22:1: error: Need type annotation for "connection_counts"  [var-annotated]
src/admin/blueprints/activity_stream.py:23:1: error: Need type annotation for "connection_timestamps"  [var-annotated]
src/admin/blueprints/activity_stream.py: note: In function "format_activity_from_audit_log":
src/admin/blueprints/activity_stream.py:56:41: error: Argument 1 to "loads" has incompatible type "dict[Any, Any]"; expected "str | bytes | bytearray"  [arg-type]
src/admin/blueprints/activity_stream.py:128:8: error: "DateTime" has no attribute "tzinfo"  [attr-defined]
src/admin/blueprints/activity_stream.py:130:27: error: "DateTime" has no attribute "replace"  [attr-defined]
src/admin/blueprints/activity_stream.py:151:22: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/admin/blueprints/activity_stream.py: note: In function "get_recent_activities":
src/admin/blueprints/activity_stream.py:171:20: error: Name "select" is not defined  [name-defined]
product_catalog_providers/factory.py:10: note: In module imported here,
src/core/tools/products.py:17: note: ... from here:
product_catalog_providers/signals.py: note: In member "initialize" of class "SignalsDiscoveryProvider":
product_catalog_providers/signals.py:65:27: error: Incompatible types in assignment (expression has type "Client[StreamableHttpTransport]", variable has type "None")  [assignment]
product_catalog_providers/signals.py:66:19: error: "None" has no attribute "__aenter__"  [attr-defined]
product_catalog_providers/signals.py: note: In member "_transform_signals_to_products" of class "SignalsDiscoveryProvider":
product_catalog_providers/signals.py:184:9: error: Need type annotation for "signals_by_category" (hint: "signals_by_category: dict[<type>, <type>] = ...")  [var-annotated]
product_catalog_providers/signals.py: note: In member "_create_product_from_signals" of class "SignalsDiscoveryProvider":
product_catalog_providers/signals.py:249:16: error: Missing named argument "floor_cpm" for "Product"  [call-arg]
product_catalog_providers/signals.py:249:16: error: Missing named argument "recommended_cpm" for "Product"  [call-arg]
product_catalog_providers/signals.py:249:16: error: Missing named argument "measurement" for "Product"  [call-arg]
product_catalog_providers/signals.py:249:16: error: Missing named argument "creative_policy" for "Product"  [call-arg]
product_catalog_providers/signals.py:261:17: error: Missing named argument "rate" for "PricingOption"  [call-arg]
product_catalog_providers/signals.py:261:17: error: Missing named argument "parameters" for "PricingOption"  [call-arg]
product_catalog_providers/signals.py:267:36: error: Missing named argument "p25" for "PriceGuidance"  [call-arg]
product_catalog_providers/signals.py: note: In member "_get_database_products" of class "SignalsDiscoveryProvider":
product_catalog_providers/signals.py:314:44: error: "Product" has no attribute "min_spend"  [attr-defined]
product_catalog_providers/factory.py:9: note: In module imported here,
src/core/tools/products.py:17: note: ... from here:
product_catalog_providers/mcp.py: note: In member "initialize" of class "MCPProductCatalog":
product_catalog_providers/mcp.py:45:23: error: Incompatible types in assignment (expression has type "Client[StreamableHttpTransport]", variable has type "None")  [assignment]
product_catalog_providers/mcp.py:46:15: error: "None" has no attribute "__aenter__"  [attr-defined]
product_catalog_providers/mcp.py: note: In member "get_products" of class "MCPProductCatalog":
product_catalog_providers/mcp.py:86:46: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "str")  [assignment]
product_catalog_providers/mcp.py:89:39: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "str")  [assignment]
product_catalog_providers/mcp.py:93:45: error: "None" has no attribute "call_tool"  [attr-defined]
src/admin/blueprints/settings.py:17:1: error: Module "src.admin.utils" has no attribute "require_auth"  [attr-defined]
src/admin/blueprints/settings.py:17:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/admin/blueprints/settings.py: note: In function "<lambda>":
src/admin/blueprints/settings.py:267:20: error: Item "None" of "Any | None" has no attribute "get"  [union-attr]
src/core/testing_hooks.py: note: In member "__init__" of class "SimulatedSpendTracker":
src/core/testing_hooks.py:238:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/core/testing_hooks.py: note: In member "__init__" of class "TestSessionManager":
src/core/testing_hooks.py:259:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/core/testing_hooks.py: note: In function "get_next_event_calculator":
src/core/testing_hooks.py:493:12: error: Incompatible return value type (got "type[NextEventCalculator]", expected "NextEventCalculator")  [return-value]
src/core/creative_agent_registry.py: note: In member "__init__" of class "CreativeAgentRegistry":
src/core/creative_agent_registry.py:81:9: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/core/creative_agent_registry.py: note: In member "_fetch_formats_from_agent" of class "CreativeAgentRegistry":
src/core/creative_agent_registry.py:190:49: error: Incompatible types in assignment (expression has type "list[str]", target has type "int")  [assignment]
src/core/creative_agent_registry.py:192:49: error: Incompatible types in assignment (expression has type "str", target has type "int")  [assignment]
src/core/creative_agent_registry.py:194:42: error: Incompatible types in assignment (expression has type "str", target has type "int")  [assignment]
src/core/creative_agent_registry.py:212:29: error: Incompatible types in assignment (expression has type "str | Any | ImageContent | AudioContent | ResourceLink | EmbeddedResource", variable has type "dict[str, Any] | None")  [assignment]
src/core/creative_agent_registry.py: note: In member "preview_creative" of class "CreativeAgentRegistry":
src/core/creative_agent_registry.py:527:24: error: Incompatible return value type (got "Any | ImageContent | AudioContent | ResourceLink | EmbeddedResource", expected "dict[str, Any]")  [return-value]
src/core/creative_agent_registry.py: note: In member "build_creative" of class "CreativeAgentRegistry":
src/core/creative_agent_registry.py:593:24: error: Incompatible return value type (got "Any | ImageContent | AudioContent | ResourceLink | EmbeddedResource", expected "dict[str, Any]")  [return-value]
src/core/auth.py: note: In function "get_principal_from_token":
src/core/auth.py:53:28: error: Incompatible types in assignment (expression has type "Select[tuple[Tenant]]", variable has type "Select[tuple[Principal]]")  [assignment]
src/core/auth.py:74:24: error: Incompatible types in assignment (expression has type "Select[tuple[Tenant]]", variable has type "Select[tuple[Principal]]")  [assignment]
src/core/auth.py:85:24: error: Incompatible types in assignment (expression has type "Select[tuple[Tenant]]", variable has type "Select[tuple[Principal]]")  [assignment]
src/core/auth.py:90:60: error: Argument 1 to "serialize_tenant_to_dict" has incompatible type "Principal"; expected "Tenant"  [arg-type]
src/core/auth.py: note: In function "get_push_notification_config_from_headers":
src/core/auth.py:122:92: error: Function "builtins.any" is not valid as a type  [valid-type]
src/core/auth.py:122:92: note: Perhaps you meant "typing.Any" instead of "any"?
src/core/auth.py: note: In function "get_principal_adapter_mapping":
src/core/auth.py:360:67: error: Function "builtins.any" is not valid as a type  [valid-type]
src/core/auth.py:360:67: note: Perhaps you meant "typing.Any" instead of "any"?
src/core/tools/performance.py: note: In function "update_performance_index":
src/core/tools/performance.py:47:5: error: Name "_verify_principal" is not defined  [name-defined]
src/core/tools/performance.py:48:20: error: Name "_get_principal_id_from_context" is not defined  [name-defined]
src/core/tools/performance.py:51:17: error: Name "get_principal_object" is not defined  [name-defined]
src/core/tools/performance.py:53:16: error: Unexpected keyword argument "message" for "UpdatePerformanceIndexResponse"  [call-arg]
src/core/tools/performance.py:60:15: error: Name "get_adapter" is not defined  [name-defined]
src/core/tools/performance.py:60:46: error: Name "DRY_RUN_MODE" is not defined  [name-defined]
src/core/tools/performance.py:72:5: error: Name "console" is not defined  [name-defined]
src/core/tools/performance.py:75:9: error: Name "console" is not defined  [name-defined]
src/core/tools/performance.py:81:9: error: Name "console" is not defined  [name-defined]
src/core/schemas.py: note: "UpdatePerformanceIndexResponse" defined here
src/core/tools/performance.py:53:16: error: Unexpected keyword argument "errors" for "UpdatePerformanceIndexResponse"  [call-arg]
product_catalog_providers/factory.py:8: note: In module imported here,
src/core/tools/products.py:17: note: ... from here:
product_catalog_providers/hybrid.py: note: In member "_deduplicate_products" of class "HybridProductCatalog":
product_catalog_providers/hybrid.py:179:9: error: Need type annotation for "seen_names" (hint: "seen_names: set[<type>] = ...")  [var-annotated]
product_catalog_providers/hybrid.py: note: In function "create_hybrid_catalog_for_tenant":
product_catalog_providers/hybrid.py:226:14: error: Need type annotation for "config"  [var-annotated]
src/admin/blueprints/format_search.py:12:1: error: Module "src.admin.utils" has no attribute "require_auth"  [attr-defined]
src/admin/blueprints/creative_agents.py:8:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/core/tools/signals.py: note: In function "get_signals":
src/core/tools/signals.py:54:9: error: Missing named argument "tenant_id" for "Signal"  [call-arg]
src/core/tools/signals.py:54:9: error: Missing named argument "created_at" for "Signal"  [call-arg]
src/core/tools/signals.py:54:9: error: Missing named argument "updated_at" for "Signal"  [call-arg]
src/core/tools/signals.py:54:9: error: Missing named argument "metadata" for "Signal"  [call-arg]
src/core/tools/signals.py:73:9: error: Missing named argument "tenant_id" for "Signal"  [call-arg]
src/core/tools/signals.py:73:9: error: Missing named argument "created_at" for "Signal"  [call-arg]
src/core/tools/signals.py:73:9: error: Missing named argument "updated_at" for "Signal"  [call-arg]
src/core/tools/signals.py:73:9: error: Missing named argument "metadata" for "Signal"  [call-arg]
src/core/tools/signals.py:81:17: error: Missing named argument "account" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:81:17: error: Missing named argument "decisioning_platform_segment_id" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:90:9: error: Missing named argument "tenant_id" for "Signal"  [call-arg]
src/core/tools/signals.py:90:9: error: Missing named argument "created_at" for "Signal"  [call-arg]
src/core/tools/signals.py:90:9: error: Missing named argument "updated_at" for "Signal"  [call-arg]
src/core/tools/signals.py:90:9: error: Missing named argument "metadata" for "Signal"  [call-arg]
src/core/tools/signals.py:98:17: error: Missing named argument "account" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:98:17: error: Missing named argument "estimated_activation_duration_minutes" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:107:9: error: Missing named argument "tenant_id" for "Signal"  [call-arg]
src/core/tools/signals.py:107:9: error: Missing named argument "created_at" for "Signal"  [call-arg]
src/core/tools/signals.py:107:9: error: Missing named argument "updated_at" for "Signal"  [call-arg]
src/core/tools/signals.py:107:9: error: Missing named argument "metadata" for "Signal"  [call-arg]
src/core/tools/signals.py:114:26: error: Missing named argument "account" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:114:26: error: Missing named argument "decisioning_platform_segment_id" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:114:26: error: Missing named argument "estimated_activation_duration_minutes" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:117:9: error: Missing named argument "tenant_id" for "Signal"  [call-arg]
src/core/tools/signals.py:117:9: error: Missing named argument "created_at" for "Signal"  [call-arg]
src/core/tools/signals.py:117:9: error: Missing named argument "updated_at" for "Signal"  [call-arg]
src/core/tools/signals.py:117:9: error: Missing named argument "metadata" for "Signal"  [call-arg]
src/core/tools/signals.py:125:17: error: Missing named argument "account" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:125:17: error: Missing named argument "decisioning_platform_segment_id" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:134:9: error: Missing named argument "tenant_id" for "Signal"  [call-arg]
src/core/tools/signals.py:134:9: error: Missing named argument "created_at" for "Signal"  [call-arg]
src/core/tools/signals.py:134:9: error: Missing named argument "updated_at" for "Signal"  [call-arg]
src/core/tools/signals.py:134:9: error: Missing named argument "metadata" for "Signal"  [call-arg]
src/core/tools/signals.py:141:26: error: Missing named argument "account" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:141:26: error: Missing named argument "decisioning_platform_segment_id" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py:141:26: error: Missing named argument "estimated_activation_duration_minutes" for "SignalDeployment"  [call-arg]
src/core/tools/signals.py: note: In function "activate_signal":
src/core/tools/signals.py:218:17: error: Name "get_principal_object" is not defined  [name-defined]
src/core/tools/signals.py:221:19: error: Name "get_testing_context" is not defined  [name-defined]
src/core/tools/signals.py:223:5: error: Name "apply_testing_hooks" is not defined  [name-defined]
src/core/tools/creative_formats.py: note: In function "_list_creative_formats_impl":
src/core/tools/creative_formats.py:37:15: error: Missing named argument "type" for "ListCreativeFormatsRequest"  [call-arg]
src/core/tools/creative_formats.py:37:15: error: Missing named argument "standard_only" for "ListCreativeFormatsRequest"  [call-arg]
src/core/tools/creative_formats.py:37:15: error: Missing named argument "category" for "ListCreativeFormatsRequest"  [call-arg]
src/core/tools/creative_formats.py:37:15: error: Missing named argument "format_ids" for "ListCreativeFormatsRequest"  [call-arg]
src/core/tools/creative_formats.py:123:16: error: Missing named argument "creative_agents" for "ListCreativeFormatsResponse"  [call-arg]
src/core/tools/creative_formats.py:123:16: error: Missing named argument "errors" for "ListCreativeFormatsResponse"  [call-arg]
src/core/tools/creative_formats.py:137:16: error: Incompatible return value type (got "dict[str, Any]", expected "ListCreativeFormatsResponse")  [return-value]
src/core/tools/creative_formats.py: note: In function "list_creative_formats":
src/core/tools/creative_formats.py:170:24: error: Argument "format_ids" to "ListCreativeFormatsRequest" has incompatible type "list[str] | None"; expected "list[FormatId] | None"  [arg-type]
src/core/tools/creative_formats.py:175:45: error: Argument 2 to "_list_creative_formats_impl" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/creative_formats.py: note: In function "list_creative_formats_raw":
src/core/tools/creative_formats.py:192:45: error: Argument 2 to "_list_creative_formats_impl" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/helpers/activity_helpers.py: note: In function "log_tool_activity":
src/core/helpers/activity_helpers.py:71:43: error: Incompatible types in assignment (expression has type "int", target has type "str")  [assignment]
src/adapters/google_ad_manager.py:35: note: In module imported here,
src/core/helpers/adapter_helpers.py:5: note: ... from here:
src/adapters/gam/managers/orders.py: note: In member "create_line_items" of class "GAMOrdersManager":
src/adapters/gam/managers/orders.py:439:47: error: Incompatible types in assignment (expression has type "dict[str, int]", target has type "int")  [assignment]
src/adapters/gam/managers/orders.py:463:51: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "int")  [assignment]
src/adapters/gam/managers/orders.py:491:29: error: Dict entry 0 has incompatible type "str": "dict[str, Any]"; expected "str": "int"  [dict-item]
src/adapters/gam/managers/orders.py:493:29: error: Dict entry 2 has incompatible type "str": "str"; expected "str": "int"  [dict-item]
src/adapters/gam/managers/orders.py:728:33: error: Value of type "int" is not indexable  [index]
src/core/tools/products.py:17: note: In module imported here:
product_catalog_providers/factory.py: note: In function "get_product_catalog_provider":
product_catalog_providers/factory.py:64:16: error: Cannot instantiate abstract class "ProductCatalogProvider" with abstract attribute "get_products"  [abstract]
src/admin/blueprints/products.py:11:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/admin/blueprints/api.py:12:1: error: Module "src.admin.utils" has no attribute "require_auth"  [attr-defined]
src/adapters/gam/managers/__init__.py:20: note: In module imported here,
src/adapters/google_ad_manager.py:25: note: ... from here,
src/core/helpers/adapter_helpers.py:5: note: ... from here:
src/adapters/gam/managers/sync.py: note: In member "sync_inventory" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:131:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py:147:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py: note: In member "sync_orders" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:206:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py:222:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py: note: In member "sync_full" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:272:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py:288:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py: note: In member "sync_selective" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:353:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py:369:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/adapters/gam/managers/sync.py: note: In member "get_sync_status" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:396:27: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/adapters/gam/managers/sync.py:401:43: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/adapters/gam/managers/sync.py:402:48: error: Unsupported left operand type for - ("DateTime")  [operator]
src/adapters/gam/managers/sync.py: note: In member "get_sync_history" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:451:31: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/adapters/gam/managers/sync.py:456:42: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/adapters/gam/managers/sync.py:457:47: error: Unsupported left operand type for - ("DateTime")  [operator]
src/adapters/gam/managers/sync.py: note: In member "_get_recent_sync" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:531:33: error: Item "DateTime" of "DateTime | None" has no attribute "isoformat"  [union-attr]
src/adapters/gam/managers/sync.py:531:33: error: Item "None" of "DateTime | None" has no attribute "isoformat"  [union-attr]
src/adapters/gam/managers/sync.py: note: In member "get_sync_stats" of class "GAMSyncManager":
src/adapters/gam/managers/sync.py:612:35: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/admin/app.py:330: note: In module imported here:
src/services/gam_inventory_service.py: note: In function "_save_inventory_to_db":
src/services/gam_inventory_service.py:90:9: error: Need type annotation for "to_insert" (hint: "to_insert: list[<type>] = ...")  [var-annotated]
src/services/gam_inventory_service.py:91:9: error: Need type annotation for "to_update" (hint: "to_update: list[<type>] = ...")  [var-annotated]
src/services/gam_inventory_service.py: note: In member "_save_inventory_to_db" of class "GAMInventoryService":
src/services/gam_inventory_service.py:223:9: error: Incompatible types in assignment (expression has type "CustomTargetingKey", variable has type "tuple[str, str]")  [assignment]
src/services/gam_inventory_service.py:227:33: error: "tuple[str, str]" has no attribute "id"  [attr-defined]
src/services/gam_inventory_service.py:228:25: error: "tuple[str, str]" has no attribute "name"  [attr-defined]
src/services/gam_inventory_service.py:229:26: error: "tuple[str, str]" has no attribute "display_name"  [attr-defined]
src/services/gam_inventory_service.py:230:27: error: "tuple[str, str]" has no attribute "status"  [attr-defined]
src/services/gam_inventory_service.py:232:37: error: "tuple[str, str]" has no attribute "display_name"  [attr-defined]
src/services/gam_inventory_service.py:233:29: error: "tuple[str, str]" has no attribute "type"  [attr-defined]
src/services/gam_inventory_service.py:234:40: error: "tuple[str, str]" has no attribute "reportable_type"  [attr-defined]
src/services/gam_inventory_service.py:239:49: error: "tuple[str, str]" has no attribute "id"  [attr-defined]
src/services/gam_inventory_service.py:247:60: error: "tuple[str, str]" has no attribute "id"  [attr-defined]
src/services/gam_inventory_service.py:254:30: error: "tuple[str, str]" has no attribute "display_name"  [attr-defined]
src/services/gam_inventory_service.py:260:37: error: "tuple[str, str]" has no attribute "name"  [attr-defined]
src/services/gam_inventory_service.py:261:45: error: "tuple[str, str]" has no attribute "display_name"  [attr-defined]
src/services/gam_inventory_service.py:323:13: error: Incompatible types in assignment (expression has type "Update", variable has type "Select[tuple[str, str, int]]")  [assignment]
src/services/gam_inventory_service.py: note: In member "_streaming_sync_all_inventory" of class "GAMInventoryService":
src/services/gam_inventory_service.py:416:58: error: Argument 2 to "_write_custom_targeting_keys" of "GAMInventoryService" has incompatible type "dict_values[str, CustomTargetingKey]"; expected "list[Any]"  [arg-type]
src/services/gam_inventory_service.py: note: In member "_flush_batch" of class "GAMInventoryService":
src/services/gam_inventory_service.py:688:46: error: Argument 1 to "bulk_insert_mappings" of "Session" has incompatible type "type[GAMInventory]"; expected "Mapper[Any]"  [arg-type]
src/services/gam_inventory_service.py:692:46: error: Argument 1 to "bulk_update_mappings" of "Session" has incompatible type "type[GAMInventory]"; expected "Mapper[Any]"  [arg-type]
src/services/gam_inventory_service.py:714:22: error: Argument "orig" to "OperationalError" has incompatible type "BaseException | None"; expected "BaseException"  [arg-type]
src/services/gam_inventory_service.py: note: In member "_upsert_inventory_item" of class "GAMInventoryService":
src/services/gam_inventory_service.py:790:36: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime] | DateTime")  [assignment]
src/services/gam_inventory_service.py: note: In member "get_ad_unit_tree" of class "GAMInventoryService":
src/services/gam_inventory_service.py:853:25: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:859:25: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:861:17: error: Item "str" of "str | list[Any] | dict[Any, Any] | None" has no attribute "append"  [union-attr]
src/services/gam_inventory_service.py:861:17: error: Item "None" of "str | list[Any] | dict[Any, Any] | None" has no attribute "append"  [union-attr]
src/services/gam_inventory_service.py:861:17: error: Item "dict[Any, Any]" of "str | list[Any] | dict[Any, Any] | None" has no attribute "append"  [union-attr]
src/services/gam_inventory_service.py:864:16: error: Incompatible types in assignment (expression has type "Select[tuple[DateTime]]", variable has type "Select[tuple[GAMInventory]]")  [assignment]
src/services/gam_inventory_service.py:866:21: error: "GAMInventory" has no attribute "isoformat"  [attr-defined]
src/services/gam_inventory_service.py: note: In member "search_inventory" of class "GAMInventoryService":
src/services/gam_inventory_service.py:996:30: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1024:32: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/services/gam_inventory_service.py: note: In member "get_product_inventory" of class "GAMInventoryService":
src/services/gam_inventory_service.py:1045:20: error: Incompatible return value type (got "None", expected "dict[str, Any]")  [return-value]
src/services/gam_inventory_service.py:1048:16: error: Incompatible types in assignment (expression has type "Select[tuple[ProductInventoryMapping]]", variable has type "Select[tuple[Product]]")  [assignment]
src/services/gam_inventory_service.py:1058:20: error: Incompatible types in assignment (expression has type "Select[tuple[GAMInventory]]", variable has type "Select[tuple[Product]]")  [assignment]
src/services/gam_inventory_service.py:1061:52: error: "Product" has no attribute "inventory_type"  [attr-defined]
src/services/gam_inventory_service.py:1062:50: error: "Product" has no attribute "inventory_id"  [attr-defined]
src/services/gam_inventory_service.py:1069:27: error: "Product" has no attribute "inventory_id"  [attr-defined]
src/services/gam_inventory_service.py:1071:29: error: "Product" has no attribute "path"  [attr-defined]
src/services/gam_inventory_service.py:1072:35: error: "Product" has no attribute "is_primary"  [attr-defined]
src/services/gam_inventory_service.py:1073:33: error: "Product" has no attribute "inventory_metadata"  [attr-defined]
src/services/gam_inventory_service.py:1076:20: error: "Product" has no attribute "inventory_type"  [attr-defined]
src/services/gam_inventory_service.py:1078:22: error: "Product" has no attribute "inventory_type"  [attr-defined]
src/services/gam_inventory_service.py: note: In member "update_product_inventory" of class "GAMInventoryService":
src/services/gam_inventory_service.py:1119:20: error: Incompatible types in assignment (expression has type "Delete", variable has type "Select[tuple[Product]]")  [assignment]
src/services/gam_inventory_service.py: note: In member "suggest_inventory_for_product" of class "GAMInventoryService":
src/services/gam_inventory_service.py:1189:29: error: "dict[str, str]" has no attribute "split"  [attr-defined]
src/services/gam_inventory_service.py:1205:16: error: Incompatible types in assignment (expression has type "Select[tuple[GAMInventory]]", variable has type "Select[tuple[Product]]")  [assignment]
src/services/gam_inventory_service.py:1219:26: error: "Product" has no attribute "inventory_metadata"  [attr-defined]
src/services/gam_inventory_service.py:1227:76: error: "Product" has no attribute "path"  [attr-defined]
src/services/gam_inventory_service.py:1234:16: error: "Product" has no attribute "inventory_metadata"  [attr-defined]
src/services/gam_inventory_service.py:1239:20: error: "Product" has no attribute "path"  [attr-defined]
src/services/gam_inventory_service.py:1247:35: error: "Product" has no attribute "inventory_id"  [attr-defined]
src/services/gam_inventory_service.py:1249:48: error: "Product" has no attribute "path"  [attr-defined]
src/services/gam_inventory_service.py:1258:30: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[str, object]], object]"; expected "Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
src/services/gam_inventory_service.py: note: In function "suggest_inventory_for_product":
src/services/gam_inventory_service.py:1258:40: error: Incompatible return value type (got "object", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
src/services/gam_inventory_service.py: note: In member "get_all_targeting_data" of class "GAMInventoryService":
src/services/gam_inventory_service.py:1282:9: error: Need type annotation for "custom_values" (hint: "custom_values: dict[<type>, <type>] = ...")  [var-annotated]
src/services/gam_inventory_service.py:1293:22: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1301:41: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1302:39: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1328:16: error: Incompatible types in assignment (expression has type "Select[tuple[DateTime]]", variable has type "Select[tuple[GAMInventory]]")  [assignment]
src/services/gam_inventory_service.py:1330:21: error: "GAMInventory" has no attribute "isoformat"  [attr-defined]
src/services/gam_inventory_service.py:1338:37: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1339:29: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1342:44: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1354:36: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1355:29: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1356:29: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1357:43: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1358:37: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1360:37: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1368:36: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1370:36: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/services/gam_inventory_service.py:1371:35: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
src/core/helpers/adapter_helpers.py:5: note: In module imported here:
src/adapters/google_ad_manager.py: note: In member "__init__" of class "GoogleAdManager":
src/adapters/google_ad_manager.py:133:35: error: Incompatible types in assignment (expression has type "None", variable has type "GAMClientManager")  [assignment]
src/adapters/google_ad_manager.py:149:38: error: Incompatible types in assignment (expression has type "None", variable has type "GAMCreativesManager")  [assignment]
src/adapters/google_ad_manager.py:152:75: error: Argument 2 to "GAMInventoryManager" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:156:79: error: Argument 4 to "GAMSyncManager" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:158:52: error: Argument 1 to "GAMWorkflowManager" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py: note: In member "create_media_buy" of class "GoogleAdManager":
src/adapters/google_ad_manager.py:306:28: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:307:35: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:328:20: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:329:27: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:331:25: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/google_ad_manager.py:362:20: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:363:27: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:365:25: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/google_ad_manager.py:395:24: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:395:24: error: Missing named argument "errors" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:396:31: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:403:24: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:404:31: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:406:29: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/google_ad_manager.py:425:20: error: Incompatible types in assignment (expression has type "Select[tuple[AdapterConfig]]", variable has type "Select[tuple[Product]]")  [assignment]
src/adapters/google_ad_manager.py:427:35: error: "Product" has no attribute "gam_order_name_template"  [attr-defined]
src/adapters/google_ad_manager.py:428:39: error: "Product" has no attribute "gam_order_name_template"  [attr-defined]
src/adapters/google_ad_manager.py:480:20: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:481:27: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:483:25: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/google_ad_manager.py:503:20: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:503:20: error: Missing named argument "errors" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:504:27: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py:520:16: error: Missing named argument "creative_deadline" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:520:16: error: Missing named argument "errors" for "CreateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:521:23: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/adapters/google_ad_manager.py: note: In member "add_creative_assets" of class "GoogleAdManager":
src/adapters/google_ad_manager.py:574:17: error: Need type annotation for "asset_statuses" (hint: "asset_statuses: list[<type>] = ...")  [var-annotated]
src/adapters/google_ad_manager.py: note: In member "check_media_buy_status" of class "GoogleAdManager":
src/adapters/google_ad_manager.py:675:16: error: Unexpected keyword argument "message" for "CheckMediaBuyStatusResponse"  [call-arg]
src/adapters/google_ad_manager.py: note: In class "GoogleAdManager":
src/adapters/google_ad_manager.py:881:5: error: Name "_is_admin_principal" already defined on line 200  [no-redef]
src/adapters/google_ad_manager.py:890:5: error: Name "_validate_creative_for_gam" already defined on line 208  [no-redef]
src/adapters/google_ad_manager.py:894:5: error: Name "_get_creative_type" already defined on line 214  [no-redef]
src/adapters/google_ad_manager.py:898:5: error: Name "_check_order_has_guaranteed_items" already defined on line 226  [no-redef]
src/core/schemas.py: note: In member "check_media_buy_status" of class "GoogleAdManager":
src/core/schemas.py: note: "CheckMediaBuyStatusResponse" defined here
src/adapters/google_ad_manager.py: note: In member "get_media_buy_delivery" of class "GoogleAdManager":
src/adapters/google_ad_manager.py:683:16: error: Unexpected keyword argument "media_buy_id" for "GetMediaBuyDeliveryResponse"  [call-arg]
src/core/schemas.py: note: "GetMediaBuyDeliveryResponse" defined here
src/adapters/google_ad_manager.py:683:16: error: Unexpected keyword argument "delivery_data" for "GetMediaBuyDeliveryResponse"  [call-arg]
src/adapters/google_ad_manager.py:683:16: error: Unexpected keyword argument "message" for "GetMediaBuyDeliveryResponse"  [call-arg]
src/adapters/google_ad_manager.py:679:5: error: Signature of "get_media_buy_delivery" incompatible with supertype "src.adapters.base.AdServerAdapter"  [override]
src/adapters/google_ad_manager.py:679:5: note:      Superclass:
src/adapters/google_ad_manager.py:679:5: note:          def get_media_buy_delivery(self, media_buy_id: str, date_range: ReportingPeriod, today: datetime) -> AdapterGetMediaBuyDeliveryResponse
src/adapters/google_ad_manager.py:679:5: note:      Subclass:
src/adapters/google_ad_manager.py:679:5: note:          def get_media_buy_delivery(self, media_buy_id: str, today: datetime) -> GetMediaBuyDeliveryResponse
src/adapters/google_ad_manager.py: note: In member "update_media_buy" of class "GoogleAdManager":
src/adapters/google_ad_manager.py:706:20: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:709:25: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/google_ad_manager.py:721:24: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:721:24: error: Missing named argument "errors" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:728:24: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:732:25: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/google_ad_manager.py:751:28: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:751:28: error: Missing named argument "errors" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:758:28: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:762:29: error: Missing named argument "details" for "Error"  [call-arg]
src/adapters/google_ad_manager.py:770:16: error: Missing named argument "implementation_date" for "UpdateMediaBuyResponse"  [call-arg]
src/adapters/google_ad_manager.py:770:16: error: Missing named argument "errors" for "UpdateMediaBuyResponse"  [call-arg]
src/admin/blueprints/inventory.py:503: note: In module imported here:
src/services/background_sync_service.py: note: In function "start_inventory_sync_background":
src/services/background_sync_service.py:70:16: error: "DateTime" has no attribute "tzinfo"  [attr-defined]
src/services/background_sync_service.py:71:30: error: "DateTime" has no attribute "replace"  [attr-defined]
src/services/background_sync_service.py:73:28: error: No overload variant of "__sub__" of "datetime" matches argument type "DateTime"  [operator]
src/services/background_sync_service.py:73:28: note: Possible overload variants:
src/services/background_sync_service.py:73:28: note:     def __sub__(self, datetime, /) -> timedelta
src/services/background_sync_service.py:73:28: note:     def __sub__(self, timedelta, /) -> datetime
src/services/background_sync_service.py:79:46: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/background_sync_service.py: note: In function "_run_sync_thread":
src/services/background_sync_service.py:200:29: error: Argument 1 to "write" of "_TemporaryFileWrapper" has incompatible type "str | None"; expected "str"  [arg-type]
src/services/background_sync_service.py: note: In function "_mark_sync_complete":
src/services/background_sync_service.py:476:41: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/background_sync_service.py: note: In function "_mark_sync_failed":
src/services/background_sync_service.py:492:41: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/services/background_sync_service.py:495:21: error: "SyncJob" has no attribute "duration_seconds"  [attr-defined]
src/services/background_sync_service.py:495:50: error: Unsupported left operand type for - ("DateTime")  [operator]
src/services/background_sync_service.py:495:50: error: Unsupported left operand type for - ("None")  [operator]
src/services/background_sync_service.py:495:50: note: Left operand is of type "DateTime | None"
src/admin/sync_api.py: note: In function "trigger_sync":
src/admin/sync_api.py:90:16: error: Incompatible types in assignment (expression has type "Select[tuple[AdapterConfig]]", variable has type "Select[tuple[Tenant]]")  [assignment]
src/admin/sync_api.py:106:20: error: Incompatible types in assignment (expression has type "Select[tuple[SyncJob]]", variable has type "Select[tuple[Tenant]]")  [assignment]
src/admin/sync_api.py:114:20: error: "Tenant" has no attribute "status"  [attr-defined]
src/admin/sync_api.py:115:87: error: "Tenant" has no attribute "sync_id"  [attr-defined]
src/admin/sync_api.py:121:44: error: "Tenant" has no attribute "sync_id"  [attr-defined]
src/admin/sync_api.py:122:49: error: "Tenant" has no attribute "completed_at"  [attr-defined]
src/admin/sync_api.py:150:25: error: Unexpected keyword argument "access_token" for "Principal"  [call-arg]
src/core/schemas.py: note: "Principal" defined here
src/admin/sync_api.py:160:33: error: "Tenant" has no attribute "gam_network_code"  [attr-defined]
src/admin/sync_api.py:161:34: error: "Tenant" has no attribute "gam_refresh_token"  [attr-defined]
src/admin/sync_api.py:162:34: error: "Tenant" has no attribute "gam_trafficker_id"  [attr-defined]
src/admin/sync_api.py:163:45: error: "Tenant" has no attribute "gam_manual_approval_required"  [attr-defined]
src/admin/sync_api.py:171:30: error: "Tenant" has no attribute "gam_network_code"  [attr-defined]
src/admin/sync_api.py:173:31: error: "Tenant" has no attribute "gam_trafficker_id"  [attr-defined]
src/admin/sync_api.py:209:41: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/admin/sync_api.py: note: In function "get_sync_status":
src/admin/sync_api.py:243:27: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/admin/sync_api.py:249:40: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/admin/sync_api.py:250:45: error: Unsupported left operand type for - ("DateTime")  [operator]
src/admin/sync_api.py: note: In function "get_sync_history":
src/admin/sync_api.py:306:31: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/admin/sync_api.py:312:42: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/admin/sync_api.py:313:47: error: Unsupported left operand type for - ("DateTime")  [operator]
src/admin/sync_api.py: note: In function "initialize_tenant_management_api_key":
src/admin/sync_api.py:696:20: error: Incompatible return value type (got "str | None", expected "str")  [return-value]
src/core/helpers/adapter_helpers.py: note: In function "get_adapter":
src/core/helpers/adapter_helpers.py:30:45: error: Incompatible types in assignment (expression has type "bool | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:33:50: error: Incompatible types in assignment (expression has type "str | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:34:51: error: Incompatible types in assignment (expression has type "str | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:35:51: error: Incompatible types in assignment (expression has type "str | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:51:52: error: Incompatible types in assignment (expression has type "None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:53:48: error: Incompatible types in assignment (expression has type "str | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:54:45: error: Incompatible types in assignment (expression has type "str | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:60:48: error: Incompatible types in assignment (expression has type "str | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:61:45: error: Incompatible types in assignment (expression has type "str | None", target has type "bool")  [assignment]
src/core/helpers/adapter_helpers.py:79:26: error: Argument "network_code" to "GoogleAdManager" has incompatible type "bool | None"; expected "str"  [arg-type]
src/core/helpers/adapter_helpers.py:80:27: error: Argument "advertiser_id" to "GoogleAdManager" has incompatible type "bool | None"; expected "str | None"  [arg-type]
src/core/helpers/adapter_helpers.py:81:27: error: Argument "trafficker_id" to "GoogleAdManager" has incompatible type "bool | None"; expected "str | None"  [arg-type]
src/admin/blueprints/principals.py:13:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/admin/blueprints/inventory.py:9:1: error: Module "src.admin.utils" has no attribute "get_tenant_config_from_db"  [attr-defined]
src/admin/blueprints/inventory.py:9:1: error: Module "src.admin.utils" has no attribute "require_auth"  [attr-defined]
src/admin/blueprints/inventory.py:9:1: error: Module "src.admin.utils" has no attribute "require_tenant_access"  [attr-defined]
src/core/tools/products.py: note: In function "_get_products_impl":
src/core/tools/products.py:61:27: error: Incompatible types in assignment (expression has type "None", variable has type "AdCPTestContext")  [assignment]
src/core/tools/products.py:70:32: error: Incompatible types in assignment (expression has type "str | None", variable has type "str")  [assignment]
src/core/tools/products.py:70:32: error: Incompatible types in assignment (expression has type "dict[Any, Any] | None", variable has type "dict[str, str]")  [assignment]
src/core/tools/products.py:160:27: error: Argument "brief" to "check_brief_compliance" of "PolicyCheckService" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/products.py:175:34: error: Value of type "str | None" is not indexable  [index]
src/core/tools/products.py:175:65: error: Argument 1 to "len" has incompatible type "str | None"; expected "Sized"  [arg-type]
src/core/tools/products.py:196:34: error: Value of type "str | None" is not indexable  [index]
src/core/tools/products.py:196:65: error: Argument 1 to "len" has incompatible type "str | None"; expected "Sized"  [arg-type]
src/core/tools/products.py:222:66: error: Name "datetime" is not defined  [name-defined]
src/core/tools/products.py:222:79: error: Name "UTC" is not defined  [name-defined]
src/core/tools/products.py:244:97: error: Argument 1 to "join" of "str" has incompatible type "list[str] | None"; expected "Iterable[str]"  [arg-type]
src/core/tools/products.py:262:34: error: Incompatible types in assignment (expression has type "dict[Never, Never]", variable has type "str")  [assignment]
src/core/tools/products.py:295:15: error: Argument "brief" to "get_products" of "ProductCatalogProvider" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/products.py:502:12: error: Missing named argument "errors" for "GetProductsResponse"  [call-arg]
src/core/tools/products.py: note: In function "get_products":
src/core/tools/products.py:544:42: error: Argument 2 to "_get_products_impl" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/products.py: note: In function "get_products_raw":
src/core/tools/products.py:583:42: error: Argument 2 to "_get_products_impl" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/properties.py: note: In function "_list_authorized_properties_impl":
src/core/tools/properties.py:50:15: error: Missing named argument "tags" for "ListAuthorizedPropertiesRequest"  [call-arg]
src/core/tools/properties.py:84:27: error: Name "get_testing_context" is not defined  [name-defined]
src/core/tools/properties.py:92:23: error: Argument 1 to "log_tool_activity" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/properties.py:126:35: error: Argument "property_type" to "Property" has incompatible type "str"; expected "Literal['website', 'mobile_app', 'ctv_app', 'dooh', 'podcast', 'radio', 'streaming_audio']"  [arg-type]
src/core/tools/properties.py:137:24: error: Incompatible types in assignment (expression has type "Select[tuple[PropertyTag]]", variable has type "Select[tuple[AuthorizedProperty]]")  [assignment]
src/core/tools/properties.py:141:34: error: "AuthorizedProperty" has no attribute "tag_id"  [attr-defined]
src/core/tools/properties.py:142:61: error: "AuthorizedProperty" has no attribute "description"  [attr-defined]
src/core/tools/properties.py:200:24: error: Missing named argument "primary_channels" for "ListAuthorizedPropertiesResponse"  [call-arg]
src/core/tools/properties.py:200:24: error: Missing named argument "primary_countries" for "ListAuthorizedPropertiesResponse"  [call-arg]
src/core/tools/properties.py:200:24: error: Missing named argument "portfolio_description" for "ListAuthorizedPropertiesResponse"  [call-arg]
src/core/tools/properties.py:200:24: error: Missing named argument "last_updated" for "ListAuthorizedPropertiesResponse"  [call-arg]
src/core/tools/properties.py:230:28: error: Argument "principal_name" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/properties.py:231:26: error: Argument "principal_id" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/properties.py: note: In function "list_authorized_properties":
src/core/tools/properties.py:295:32: error: Incompatible types in assignment (expression has type "Context", variable has type "MinimalContext | None")  [assignment]
src/core/tools/properties.py:302:28: error: Incompatible types in assignment (expression has type "Context", variable has type "MinimalContext | None")  [assignment]
src/core/tools/properties.py:306:24: error: Incompatible types in assignment (expression has type "Context | None", variable has type "MinimalContext | None")  [assignment]
src/core/tools/properties.py:308:50: error: Argument 2 to "_list_authorized_properties_impl" has incompatible type "MinimalContext | None"; expected "Context | None"  [arg-type]
src/core/tools/media_buy_update.py: note: In function "_update_media_buy_impl":
src/core/tools/media_buy_update.py:192:22: error: Argument "principal_id" to "get_or_create_context" of "ContextManager" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_update.py:199:20: error: Item "None" of "Context | None" has no attribute "context_id"  [union-attr]
src/core/tools/media_buy_update.py:207:38: error: Argument 1 to "get_principal_object" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_update.py:302:32: error: No overload variant of "__sub__" of "datetime" matches argument type "DateTime"  [operator]
src/core/tools/media_buy_update.py:302:32: note: Possible overload variants:
src/core/tools/media_buy_update.py:302:32: note:     def __sub__(self, datetime, /) -> timedelta
src/core/tools/media_buy_update.py:302:32: note:     def __sub__(self, timedelta, /) -> datetime
src/core/tools/media_buy_update.py:302:32: error: No overload variant of "__sub__" of "datetime" matches argument type "None"  [operator]
src/core/tools/media_buy_update.py:302:32: error: Unsupported left operand type for - ("DateTime")  [operator]
src/core/tools/media_buy_update.py:302:32: error: Unsupported left operand type for - ("None")  [operator]
src/core/tools/media_buy_update.py:302:32: note: Both left and right operands are unions
src/core/tools/media_buy_update.py:407:21: error: "UpdateMediaBuyRequest" has no attribute "_affected_packages"  [attr-defined]
src/core/tools/media_buy_update.py:408:17: error: "UpdateMediaBuyRequest" has no attribute "_affected_packages"  [attr-defined]
src/core/tools/media_buy_update.py:518:25: error: "UpdateMediaBuyRequest" has no attribute "_affected_packages"  [attr-defined]
src/core/tools/media_buy_update.py:519:21: error: "UpdateMediaBuyRequest" has no attribute "_affected_packages"  [attr-defined]
src/core/tools/media_buy_update.py:560:21: error: Incompatible types in assignment (expression has type "Update", variable has type "Select[tuple[MediaBuy]]")  [assignment]
src/core/tools/media_buy_update.py:573:17: error: "UpdateMediaBuyRequest" has no attribute "_affected_packages"  [attr-defined]
src/core/tools/media_buy_update.py:580:28: error: Incompatible types in assignment (expression has type "Sequence[MediaPackage]", variable has type "list[Any] | None")  [assignment]
src/core/tools/media_buy_update.py:582:28: error: Item "None" of "list[Any] | None" has no attribute "__iter__" (not iterable)  [union-attr]
src/core/tools/media_buy_update.py:585:25: error: "UpdateMediaBuyRequest" has no attribute "_affected_packages"  [attr-defined]
src/core/tools/media_buy_delivery.py: note: In function "_get_media_buy_delivery_impl":
src/core/tools/media_buy_delivery.py:50:38: error: Argument 1 to "get_principal_object" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_delivery.py:53:16: error: Missing named argument "aggregated_totals" for "GetMediaBuyDeliveryResponse"  [call-arg]
src/core/tools/media_buy_delivery.py:137:37: error: Item "DateTime" of "DateTime | None" has no attribute "date"  [union-attr]
src/core/tools/media_buy_delivery.py:137:37: error: Item "None" of "DateTime | None" has no attribute "date"  [union-attr]
src/core/tools/media_buy_delivery.py:139:39: error: Item "DateTime" of "DateTime | None" has no attribute "date"  [union-attr]
src/core/tools/media_buy_delivery.py:139:39: error: Item "None" of "DateTime | None" has no attribute "date"  [union-attr]
src/core/tools/media_buy_delivery.py:163:38: error: Argument 1 to "combine" of "datetime" has incompatible type "Date"; expected "date"  [arg-type]
src/core/tools/media_buy_delivery.py:164:38: error: Argument 1 to "combine" of "datetime" has incompatible type "Date"; expected "date"  [arg-type]
src/core/tools/media_buy_delivery.py:168:45: error: Unsupported operand types for < ("date" and "Date")  [operator]
src/core/tools/media_buy_delivery.py:170:47: error: Unsupported operand types for > ("date" and "Date")  [operator]
src/core/tools/media_buy_delivery.py:180:45: error: Argument 1 to "combine" of "datetime" has incompatible type "Date"; expected "date"  [arg-type]
src/core/tools/media_buy_delivery.py:181:52: error: Argument 1 to "combine" of "datetime" has incompatible type "Date"; expected "date"  [arg-type]
src/core/tools/media_buy_delivery.py:192:34: error: Name "buy_request" is not defined  [name-defined]
src/core/tools/media_buy_delivery.py:193:69: error: Name "buy_request" is not defined  [name-defined]
src/core/tools/media_buy_delivery.py:200:31: error: Name "buy_request" is not defined  [name-defined]
src/core/tools/media_buy_delivery.py:205:24: error: Name "buy_request" is not defined  [name-defined]
src/core/tools/media_buy_delivery.py:206:48: error: Name "buy_request" is not defined  [name-defined]
src/core/tools/media_buy_delivery.py:207:49: error: Name "buy_request" is not defined  [name-defined]
src/core/tools/media_buy_delivery.py:208:61: error: Name "buy_request" is not defined  [name-defined]
src/core/tools/media_buy_delivery.py:211:25: error: Missing named argument "clicks" for "PackageDelivery"  [call-arg]
src/core/tools/media_buy_delivery.py:211:25: error: Missing named argument "video_completions" for "PackageDelivery"  [call-arg]
src/core/tools/media_buy_delivery.py:213:47: error: Name "buy_request" is not defined  [name-defined]
src/core/tools/media_buy_delivery.py:221:29: error: Missing named argument "daily_breakdown" for "MediaBuyDeliveryData"  [call-arg]
src/core/tools/media_buy_delivery.py:223:35: error: Name "buy_request" is not defined  [name-defined]
src/core/tools/media_buy_delivery.py:224:24: error: Argument "status" to "MediaBuyDeliveryData" has incompatible type "str"; expected "Literal['ready', 'active', 'paused', 'completed', 'failed']"  [arg-type]
src/core/tools/media_buy_delivery.py:225:24: error: Missing named argument "clicks" for "DeliveryTotals"  [call-arg]
src/core/tools/media_buy_delivery.py:225:24: error: Missing named argument "ctr" for "DeliveryTotals"  [call-arg]
src/core/tools/media_buy_delivery.py:225:24: error: Missing named argument "video_completions" for "DeliveryTotals"  [call-arg]
src/core/tools/media_buy_delivery.py:225:24: error: Missing named argument "completion_rate" for "DeliveryTotals"  [call-arg]
src/core/tools/media_buy_delivery.py:239:16: error: Missing named argument "aggregated_totals" for "GetMediaBuyDeliveryResponse"  [call-arg]
src/core/tools/media_buy_delivery.py:252:48: error: "MediaBuy" has no attribute "flight_start_date"  [attr-defined]
src/core/tools/media_buy_delivery.py:253:46: error: "MediaBuy" has no attribute "flight_end_date"  [attr-defined]
src/core/tools/media_buy_delivery.py:254:33: error: "MediaBuy" has no attribute "total_budget"  [attr-defined]
src/core/tools/media_buy_delivery.py:284:20: error: Missing named argument "aggregated_totals" for "GetMediaBuyDeliveryResponse"  [call-arg]
src/core/tools/media_buy_delivery.py: note: In function "get_media_buy_delivery":
src/core/tools/media_buy_delivery.py:336:46: error: Argument 2 to "_get_media_buy_delivery_impl" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/media_buy_delivery.py: note: In function "get_media_buy_delivery_raw":
src/core/tools/media_buy_delivery.py:372:46: error: Argument 2 to "_get_media_buy_delivery_impl" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/media_buy_create.py: note: In function "_create_media_buy_impl":
src/core/tools/media_buy_create.py:360:31: error: Argument "targeting_overlay" to "CreateMediaBuyRequest" has incompatible type "dict[str, Any] | None"; expected "Targeting | None"  [arg-type]
src/core/tools/media_buy_create.py:361:20: error: Argument "pacing" to "CreateMediaBuyRequest" has incompatible type "str"; expected "Literal['even', 'asap', 'daily_budget']"  [arg-type]
src/core/tools/media_buy_create.py:377:39: error: Argument 1 to "get_testing_context" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/media_buy_create.py:397:38: error: Argument 1 to "get_principal_object" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:408:14: error: Item "None" of "Context | None" has no attribute "headers"  [union-attr]
src/core/tools/media_buy_create.py:420:101: error: Argument "principal_id" to "create_context" of "ContextManager" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:467:50: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime] | DateTime")  [assignment]
src/core/tools/media_buy_create.py:510:13: error: Name "start_time" already defined on line 288  [no-redef]
src/core/tools/media_buy_create.py:732:45: error: Incompatible types in assignment (expression has type "None", variable has type "Decimal")  [assignment]
src/core/tools/media_buy_create.py:806:36: error: Incompatible types in assignment (expression has type "Decimal", variable has type "float | None")  [assignment]
src/core/tools/media_buy_create.py:808:24: error: Unsupported operand types for < ("Decimal" and "None")  [operator]
src/core/tools/media_buy_create.py:808:24: note: Left operand is of type "float | None"
src/core/tools/media_buy_create.py:906:36: error: Argument "principal_name" to "notify_media_buy_event" of "SlackNotifier" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:999:47: error: Item "float" of "Budget | float" has no attribute "model_dump"  [union-attr]
src/core/tools/media_buy_create.py:1033:27: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:1052:13: error: Incompatible types in assignment (expression has type "src.core.schemas.Product", variable has type "src.core.database.models.Product")  [assignment]
src/core/tools/media_buy_create.py:1063:62: error: Argument "formats" to "generate_default_config" of "GAMProductConfigService" has incompatible type "list[dict[str, str]] | None"; expected "list[str] | None"  [arg-type]
src/core/tools/media_buy_create.py:1068:32: error: Incompatible types in assignment (expression has type "Select[tuple[Product]]", variable has type "Select[tuple[PushNotificationConfig]]")  [assignment]
src/core/tools/media_buy_create.py:1071:29: error: "PushNotificationConfig" has no attribute "implementation_config"  [attr-defined]
src/core/tools/media_buy_create.py:1076:39: error: Incompatible types in assignment (expression has type "str | None", variable has type "str")  [assignment]
src/core/tools/media_buy_create.py:1088:31: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:1102:13: error: Unexpected keyword argument "step_type" for "update_workflow_step" of "ContextManager"  [call-arg]
src/core/tools/media_buy_create.py:1580:29: error: Name "_convert_creative_to_adapter_asset" is not defined  [name-defined]
src/core/tools/media_buy_create.py:1585:21: error: Name "creative_statuses" is not defined  [name-defined]
src/core/tools/media_buy_create.py:1591:17: error: Name "creative_statuses" is not defined  [name-defined]
src/core/tools/media_buy_create.py:1684:31: error: Name "ModelPrincipal" is not defined  [name-defined]
src/core/tools/media_buy_create.py:1751:31: error: Name "ModelPrincipal" is not defined  [name-defined]
src/core/context_manager.py:221:5: note: "update_workflow_step" of "ContextManager" defined here
src/core/tools/media_buy_create.py:1102:13: error: Unexpected keyword argument "owner" for "update_workflow_step" of "ContextManager"  [call-arg]
src/core/tools/media_buy_create.py:1172:36: error: Argument "principal_name" to "notify_media_buy_event" of "SlackNotifier" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:1183:27: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:1202:9: error: Incompatible types in assignment (expression has type "src.core.schemas.Product", variable has type "src.core.database.models.Product")  [assignment]
src/core/tools/media_buy_create.py:1248:21: error: Incompatible types in assignment (expression has type "FormatId", variable has type "dict[str, str]")  [assignment]
src/core/tools/media_buy_create.py:1300:42: error: Argument 1 to "list" has incompatible type "list[dict[str, str]]"; expected "Iterable[FormatId]"  [arg-type]
src/core/tools/media_buy_create.py:1315:25: error: Incompatible types in assignment (expression has type "None", variable has type "str")  [assignment]
src/core/tools/media_buy_create.py:1319:33: error: Incompatible types in assignment (expression has type "str | None", variable has type "str")  [assignment]
src/core/tools/media_buy_create.py:1327:35: error: Argument "delivery_type" to "MediaPackage" has incompatible type "str"; expected "Literal['guaranteed', 'non_guaranteed']"  [arg-type]
src/core/tools/media_buy_create.py:1348:27: error: Argument "buyer_ref" to "CreateMediaBuyResponse" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:1491:38: error: Incompatible types in assignment (expression has type "None", variable has type "str")  [assignment]
src/core/tools/media_buy_create.py:1678:27: error: Argument 1 to "log_tool_activity" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/media_buy_create.py:1687:38: error: "PushNotificationConfig" has no attribute "name"  [attr-defined]
src/core/tools/media_buy_create.py:1692:13: error: Module has no attribute "log_media_buy"  [attr-defined]
src/core/tools/media_buy_create.py:1754:38: error: "PushNotificationConfig" has no attribute "name"  [attr-defined]
src/core/tools/media_buy_create.py:1796:28: error: Argument "principal_name" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/media_buy_create.py:1864:13: error: Unexpected keyword argument "error_message" for "log_operation" of "AuditLogger"  [call-arg]
src/core/audit_logger.py:59:5: note: "log_operation" of "AuditLogger" defined here
src/core/tools/creatives.py: note: In function "_sync_creatives_impl":
src/core/tools/creatives.py:228:56: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime | None] | DateTime | None")  [assignment]
src/core/tools/creatives.py:237:58: error: Incompatible types in assignment (expression has type "Any | None", variable has type "SQLCoreOperations[str] | str")  [assignment]
src/core/tools/creatives.py:252:58: error: Incompatible types in assignment (expression has type "Any | None", variable has type "SQLCoreOperations[str] | str")  [assignment]
src/core/tools/creatives.py:580:61: error: Item "None" of "Any | None" has no attribute "get"  [union-attr]
src/core/tools/creatives.py:1150:28: error: Incompatible types in assignment (expression has type "Select[tuple[MediaBuy]]", variable has type "Select[tuple[Creative]]")  [assignment]
src/core/tools/creatives.py:1156:36: error: "Creative" has no attribute "raw_request"  [attr-defined]
src/core/tools/creatives.py:1160:48: error: "Creative" has no attribute "media_buy_id"  [attr-defined]
src/core/tools/creatives.py:1202:65: error: Argument 1 to "append" of "list" has incompatible type "Any | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1228:26: error: Argument "principal_id" to "get_or_create_context" of "ContextManager" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1258:32: error: Item "None" of "Context | None" has no attribute "context_id"  [union-attr]
src/core/tools/creatives.py:1305:37: error: Argument "creative_id" to "notify_creative_pending" of "SlackNotifier" has incompatible type "str | Any | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1306:40: error: Argument "principal_name" to "notify_creative_pending" of "SlackNotifier" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1307:37: error: Argument "format_type" to "notify_creative_pending" of "SlackNotifier" has incompatible type "str | Any | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1315:37: error: Argument "creative_id" to "notify_creative_pending" of "SlackNotifier" has incompatible type "str | Any | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1316:40: error: Argument "principal_name" to "notify_creative_pending" of "SlackNotifier" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1317:37: error: Argument "format_type" to "notify_creative_pending" of "SlackNotifier" has incompatible type "str | Any | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1340:24: error: Argument "principal_name" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1341:22: error: Argument "principal_id" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1357:23: error: Argument 1 to "log_tool_activity" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/core/tools/creatives.py:1383:20: error: Incompatible types in assignment (expression has type "Select[tuple[Principal]]", variable has type "Select[tuple[Creative]]")  [assignment]
src/core/tools/creatives.py:1392:34: error: Argument "principal_id" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/creatives.py:1393:32: error: Argument "adapter_id" to "log_operation" of "AuditLogger" has incompatible type "str | None"; expected "str"  [arg-type]
src/core/tools/creatives.py: note: In function "_list_creatives_impl":
src/core/tools/creatives.py:1546:24: error: Argument "sort_order" to "ListCreativesRequest" has incompatible type "str"; expected "Literal['asc', 'desc']"  [arg-type]
src/core/tools/creatives.py:1616:23: error: Incompatible types in assignment (expression has type "int | None", variable has type "int")  [assignment]
src/core/tools/creatives.py:1624:27: error: Incompatible types in assignment (expression has type "InstrumentedAttribute[DateTime | None]", variable has type "InstrumentedAttribute[str]")  [assignment]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "str"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "FormatId"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "str | None"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "float | None"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "int | None"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "dict[str, Any] | None"  [arg-type]
src/core/tools/creatives.py:1679:35: note: "dict" is invariant -- see https://mypy.readthedocs.io/en/stable/common_issues.html#variance
src/core/tools/creatives.py:1679:35: note: Consider using "Mapping" instead, which is covariant in the value type
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "list[str] | None"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "dict[str, dict[str, Any]] | None"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "Literal['html', 'javascript', 'vast_xml', 'vast_url'] | None"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "datetime"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "bool | None"  [arg-type]
src/core/tools/creatives.py:1679:35: error: Argument 1 to "Creative" has incompatible type "**dict[str, dict[str, str] | str | Any | dict[Any, Any] | DateTime | datetime | None]"; expected "dict[str, str] | None"  [arg-type]
src/core/tools/creatives.py:1709:23: error: Argument 1 to "log_tool_activity" has incompatible type "Context | None"; expected "Context"  [arg-type]
src/admin/tests/unit/test_auth.py:8:1: error: Module "src.admin.utils" has no attribute "is_super_admin"  [attr-defined]
src/admin/tests/unit/test_auth.py:8:1: error: Module "src.admin.utils" has no attribute "is_tenant_admin"  [attr-defined]
src/core/main.py: note: In function "get_task":
src/core/main.py:857:24: error: Name "_get_principal_id_from_context" is not defined  [name-defined]
src/core/main.py:864:57: error: "type[Context]" has no attribute "tenant_id"  [attr-defined]
src/core/main.py: note: In function "complete_task":
src/core/main.py:924:24: error: Name "_get_principal_id_from_context" is not defined  [name-defined]
src/core/main.py:934:57: error: "type[Context]" has no attribute "tenant_id"  [attr-defined]
src/core/main.py:946:13: error: "WorkflowStep" has no attribute "updated_at"  [attr-defined]
src/core/main.py:950:17: error: "WorkflowStep" has no attribute "error"  [attr-defined]
src/core/main.py:952:17: error: "WorkflowStep" has no attribute "error"  [attr-defined]
src/core/main.py:978:33: error: "WorkflowStep" has no attribute "updated_at"  [attr-defined]
src/core/main.py: note: In function "admin_handler":
src/core/main.py:1001:17: error: "MutableMapping[str, Any]" has no attribute "copy"  [attr-defined]
src/core/main.py: note: At top level:
src/core/main.py:1009:6: error: Argument 1 has incompatible type "Callable[[Request, str, str], Coroutine[Any, Any, Any]]"; expected "Callable[[Request], Awaitable[Response]]"  [arg-type]
src/core/main.py: note: In function "tenant_admin_handler":
src/core/main.py:1016:17: error: "MutableMapping[str, Any]" has no attribute "copy"  [attr-defined]
src/core/main.py: note: At top level:
src/core/main.py:1024:6: error: Argument 1 has incompatible type "Callable[[Request, str], Coroutine[Any, Any, Any]]"; expected "Callable[[Request], Awaitable[Response]]"  [arg-type]
src/a2a_server/adcp_a2a_server.py: note: In member "_create_tool_context_from_a2a" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:225:49: error: Argument 1 to "get_principal_from_token" has incompatible type "str | None"; expected "str"  [arg-type]
src/a2a_server/adcp_a2a_server.py:230:30: error: Value of type "str | None" is not indexable  [index]
src/a2a_server/adcp_a2a_server.py: note: In member "on_message_send_stream" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:829:15: error: "UnionType[Message, Task, TaskStatusUpdateEvent, TaskArtifactUpdateEvent]" not callable  [operator]
src/a2a_server/adcp_a2a_server.py: note: In member "on_get_task" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:845:19: error: "TaskQueryParams" has no attribute "task_id"  [attr-defined]
src/a2a_server/adcp_a2a_server.py: note: In member "on_cancel_task" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:862:19: error: "TaskIdParams" has no attribute "task_id"  [attr-defined]
src/a2a_server/adcp_a2a_server.py: note: In member "on_resubscribe_to_task" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:869:5: error: Return type "Coroutine[Any, Any, Any]" of "on_resubscribe_to_task" incompatible with return type "AsyncGenerator[Message | Task | TaskStatusUpdateEvent | TaskArtifactUpdateEvent, None]" in supertype "a2a.server.request_handlers.request_handler.RequestHandler"  [override]
src/a2a_server/adcp_a2a_server.py:878:9: error: Exception must be derived from BaseException  [misc]
src/a2a_server/adcp_a2a_server.py:878:15: error: Too many positional arguments for "UnsupportedOperationError"  [misc]
src/a2a_server/adcp_a2a_server.py:878:41: error: Argument 1 to "UnsupportedOperationError" has incompatible type "Literal['Task resubscription not supported']"; expected "Literal[-32004]"  [arg-type]
src/a2a_server/adcp_a2a_server.py: note: In member "on_get_task_push_notification_config" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:889:9: error: Module "a2a.types" has no attribute "NotFoundError"  [attr-defined]
src/a2a_server/adcp_a2a_server.py: note: In member "on_set_task_push_notification_config" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1016:50: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime] | DateTime")  [assignment]
src/a2a_server/adcp_a2a_server.py: note: In member "on_list_task_push_notification_config" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1104:43: error: "DateTime" has no attribute "isoformat"  [attr-defined]
src/a2a_server/adcp_a2a_server.py: note: In member "on_delete_task_push_notification_config" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1129:9: error: Module "a2a.types" has no attribute "NotFoundError"  [attr-defined]
src/a2a_server/adcp_a2a_server.py:1160:37: error: Incompatible types in assignment (expression has type "datetime", variable has type "SQLCoreOperations[DateTime] | DateTime")  [assignment]
src/a2a_server/adcp_a2a_server.py: note: In member "_handle_explicit_skill" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1232:24: error: Incompatible return value type (got "object", expected "dict[Any, Any]")  [return-value]
src/a2a_server/adcp_a2a_server.py:1232:44: error: Argument 2 has incompatible type "str | None"; expected "str"  [arg-type]
src/a2a_server/adcp_a2a_server.py:1235:24: error: Incompatible types in "await" (actual type "object", expected type "Awaitable[Any]")  [misc]
src/a2a_server/adcp_a2a_server.py:1235:50: error: Argument 2 has incompatible type "str | None"; expected "str"  [arg-type]
src/a2a_server/adcp_a2a_server.py: note: In member "_handle_get_products_skill" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1267:75: error: Argument "context" to "get_products_raw" has incompatible type "ToolContext"; expected "Context | None"  [arg-type]
src/a2a_server/adcp_a2a_server.py: note: In member "_handle_create_media_buy_skill" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1339:25: error: Argument "context" to "create_media_buy_raw" has incompatible type "ToolContext"; expected "Context | None"  [arg-type]
src/a2a_server/adcp_a2a_server.py: note: In member "_handle_sync_creatives_skill" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1407:25: error: Argument "context" to "sync_creatives_raw" has incompatible type "ToolContext"; expected "Context | None"  [arg-type]
src/a2a_server/adcp_a2a_server.py: note: In member "_handle_list_creatives_skill" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1444:25: error: Argument "context" to "list_creatives_raw" has incompatible type "ToolContext"; expected "Context | None"  [arg-type]
src/a2a_server/adcp_a2a_server.py: note: In member "_handle_create_creative_skill" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1480:24: error: Name "core_create_creative_tool" is not defined  [name-defined]
src/a2a_server/adcp_a2a_server.py: note: In member "_handle_get_creatives_skill" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1512:24: error: Name "core_get_creatives_tool" is not defined  [name-defined]
src/a2a_server/adcp_a2a_server.py: note: In member "_handle_assign_creative_skill" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1555:24: error: Name "core_assign_creative_tool" is not defined  [name-defined]
src/a2a_server/adcp_a2a_server.py: note: In member "_handle_get_signals_skill" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1613:61: error: Argument 2 to "get_signals_raw" has incompatible type "ToolContext"; expected "Context | None"  [arg-type]
src/a2a_server/adcp_a2a_server.py: note: In member "_handle_list_creative_formats_skill" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1673:19: error: Missing named argument "asset_types" for "ListCreativeFormatsRequest"  [call-arg]
src/a2a_server/adcp_a2a_server.py:1673:19: error: Missing named argument "max_width" for "ListCreativeFormatsRequest"  [call-arg]
src/a2a_server/adcp_a2a_server.py:1673:19: error: Missing named argument "max_height" for "ListCreativeFormatsRequest"  [call-arg]
src/a2a_server/adcp_a2a_server.py:1673:19: error: Missing named argument "min_width" for "ListCreativeFormatsRequest"  [call-arg]
src/a2a_server/adcp_a2a_server.py:1673:19: error: Missing named argument "min_height" for "ListCreativeFormatsRequest"  [call-arg]
src/a2a_server/adcp_a2a_server.py:1673:19: error: Missing named argument "is_responsive" for "ListCreativeFormatsRequest"  [call-arg]
src/a2a_server/adcp_a2a_server.py:1673:19: error: Missing named argument "name_search" for "ListCreativeFormatsRequest"  [call-arg]
src/a2a_server/adcp_a2a_server.py:1682:60: error: Argument "req" to "list_creative_formats_raw" has incompatible type "src.core.schemas.ListCreativeFormatsRequest"; expected "src.core.schema_adapters.ListCreativeFormatsRequest | None"  [arg-type]
src/a2a_server/adcp_a2a_server.py:1682:73: error: Argument "context" to "list_creative_formats_raw" has incompatible type "ToolContext"; expected "Context | None"  [arg-type]
src/a2a_server/adcp_a2a_server.py: note: In member "_handle_list_authorized_properties_skill" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1728:32: error: Incompatible types in assignment (expression has type "MinimalContext", variable has type "ToolContext | None")  [assignment]
src/a2a_server/adcp_a2a_server.py:1735:65: error: Argument "req" to "list_authorized_properties_raw" has incompatible type "src.core.schemas.ListAuthorizedPropertiesRequest"; expected "src.core.schema_adapters.ListAuthorizedPropertiesRequest | None"  [arg-type]
src/a2a_server/adcp_a2a_server.py:1735:82: error: Argument "context" to "list_authorized_properties_raw" has incompatible type "ToolContext | None"; expected "Context | None"  [arg-type]
src/a2a_server/adcp_a2a_server.py: note: In member "_handle_update_media_buy_skill" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1776:30: error: Argument "media_buy_id" to "update_media_buy_raw" has incompatible type "Any | None"; expected "str"  [arg-type]
src/a2a_server/adcp_a2a_server.py:1784:25: error: Argument "context" to "update_media_buy_raw" has incompatible type "ToolContext"; expected "Context | None"  [arg-type]
src/a2a_server/adcp_a2a_server.py: note: In member "_handle_get_media_buy_delivery_skill" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1830:25: error: Argument "context" to "get_media_buy_delivery_raw" has incompatible type "ToolContext"; expected "Context | None"  [arg-type]
src/a2a_server/adcp_a2a_server.py: note: In member "_handle_update_performance_index_skill" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1865:25: error: Argument "context" to "update_performance_index_raw" has incompatible type "ToolContext"; expected "Context | None"  [arg-type]
src/a2a_server/adcp_a2a_server.py: note: In member "_get_products" of class "AdCPRequestHandler":
src/a2a_server/adcp_a2a_server.py:1901:75: error: Argument "context" to "get_products_raw" has incompatible type "ToolContext"; expected "Context | None"  [arg-type]
src/a2a_server/adcp_a2a_server.py: note: In function "create_agent_card":
src/a2a_server/adcp_a2a_server.py:2084:22: error: Unexpected keyword argument "pushNotifications" for "AgentCapabilities"; did you mean "push_notifications"?  [call-arg]
.venv/lib/python3.12/site-packages/a2a/types.py: note: "AgentCapabilities" defined here
src/core/mcp_context_wrapper.py: note: In member "_create_tool_context" of class "MCPContextWrapper":
src/core/mcp_context_wrapper.py:217:9: error: Need type annotation for "conversation_history" (hint: "conversation_history: list[<type>] = ...")  [var-annotated]
src/core/mcp_server_enhanced.py:10:1: error: Module "fastmcp.server" has no attribute "Server"  [attr-defined]
src/core/mcp_server_enhanced.py:11:1: error: Module "fastmcp.server.server" has no attribute "Context"  [attr-defined]
src/core/mcp_server_enhanced.py: note: In member "_handle_tool_call" of class "EnhancedMCPServer":
src/core/mcp_server_enhanced.py:77:17: error: "BaseModel" has no attribute "__mcp_metadata__"  [attr-defined]
src/core/mcp_server_enhanced.py:78:13: error: "BaseModel" has no attribute "__mcp_metadata__"  [attr-defined]
Found 775 errors in 81 files (checked 195 source files)
